# Logfile created on Tue Nov 17 12:11:26 +0700 2009  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('5c664095dcd25e47e292c6b5c530b7c6d54b907d', '464568256ed392237fd50c2960b297c66f2a5ff2', NULL, '5ce85567a45e6aa624873ccd4265a4f21695c613', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE "users" SET "role" = 'null' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 12:11:31) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
/clearance/session/new
***************************************
Completed in 110ms (View: 108, DB: 2) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 12:11:32) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 12:11:32) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.4ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.2ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (10.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
/tutors/1/edit
***************************************
Completed in 33ms (View: 25, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /newsitems/1 with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing NewsitemsController#show (for 127.0.0.1 at 2009-11-17 12:11:32) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mNewsitem Load (0.4ms)[0m   [0mSELECT * FROM "newsitems" WHERE ("newsitems"."id" = 1) [0m
Rendering template within layouts/application
Rendering newsitems/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
/tutors/1/edit
***************************************
Completed in 11ms (View: 7, DB: 1) | 200 OK [http://www.example.com/newsitems/1]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('b1bfdfeb4a21e639539e6a5040f11d1dc3c017db', '75d2b1f2abdc4beda473a0c7d4e74e770ca9eeaf', NULL, 'cd6081e6e0a0e63b85b9f6c5648f84653f1c61bd', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE "users" SET "role" = 'admin' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 12:11:32) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
/clearance/session/new
***************************************
Completed in 12ms (View: 12, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 12:11:32) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 12:11:32) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.0ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.1ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
/tutors
***************************************
Completed in 15ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /newsitems/1 with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing NewsitemsController#show (for 127.0.0.1 at 2009-11-17 12:11:32) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mNewsitem Load (0.4ms)[0m   [0mSELECT * FROM "newsitems" WHERE ("newsitems"."id" = 1) [0m
Rendering template within layouts/application
Rendering newsitems/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
/tutors
***************************************
Completed in 8ms (View: 6, DB: 1) | 200 OK [http://www.example.com/newsitems/1]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('b1bfdfeb4a21e639539e6a5040f11d1dc3c017db', '75d2b1f2abdc4beda473a0c7d4e74e770ca9eeaf', NULL, 'cd6081e6e0a0e63b85b9f6c5648f84653f1c61bd', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE "users" SET "role" = 'null' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 12:11:32) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
/clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 2) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 12:11:32) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 12:11:32) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.4ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.5ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.9ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
/tutors/1/edit
***************************************
Completed in 16ms (View: 12, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /newsitems with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing NewsitemsController#index (for 127.0.0.1 at 2009-11-17 12:11:32) [GET]
  [4;35;1mNewsitem Load (0.7ms)[0m   [0mSELECT * FROM "newsitems" [0m
Rendering template within layouts/application
Rendering newsitems/index
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
/tutors/1/edit
***************************************
Completed in 14ms (View: 12, DB: 1) | 200 OK [http://www.example.com/newsitems]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('b1bfdfeb4a21e639539e6a5040f11d1dc3c017db', '75d2b1f2abdc4beda473a0c7d4e74e770ca9eeaf', NULL, 'cd6081e6e0a0e63b85b9f6c5648f84653f1c61bd', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mUser Update (0.6ms)[0m   [0mUPDATE "users" SET "role" = 'admin' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 12:11:32) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
/clearance/session/new
***************************************
Completed in 13ms (View: 12, DB: 2) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 12:11:32) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 12:11:32) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.5ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.2ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (9.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
/tutors
***************************************
Completed in 23ms (View: 17, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /newsitems with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing NewsitemsController#index (for 127.0.0.1 at 2009-11-17 12:11:32) [GET]
  [4;36;1mNewsitem Load (0.7ms)[0m   [0;1mSELECT * FROM "newsitems" [0m
Rendering template within layouts/application
Rendering newsitems/index
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
/tutors
***************************************
Completed in 19ms (View: 17, DB: 1) | 200 OK [http://www.example.com/newsitems]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('b1bfdfeb4a21e639539e6a5040f11d1dc3c017db', '75d2b1f2abdc4beda473a0c7d4e74e770ca9eeaf', NULL, 'cd6081e6e0a0e63b85b9f6c5648f84653f1c61bd', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE "users" SET "role" = 'null' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 12:11:32) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
/clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 2) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 12:11:32) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 3ms (DB: 1) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 12:11:32) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.0ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
/tutors/1/edit
***************************************
Completed in 15ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /pages with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing PagesController#index (for 127.0.0.1 at 2009-11-17 12:11:32) [GET]
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Redirected to http://www.example.com/
Filter chain halted as [:must_be_admin] rendered_or_redirected.
Completed in 2ms (DB: 1) | 302 Found [http://www.example.com/pages]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/pages"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 12:11:32) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.0ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
/tutors/1/edit
***************************************
Completed in 14ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('b1bfdfeb4a21e639539e6a5040f11d1dc3c017db', '75d2b1f2abdc4beda473a0c7d4e74e770ca9eeaf', NULL, 'cd6081e6e0a0e63b85b9f6c5648f84653f1c61bd', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE "users" SET "role" = 'admin' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 12:11:32) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
/clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 2) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 12:11:32) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 12:11:32) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.1ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
/tutors
***************************************
Completed in 16ms (View: 13, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /pages with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing PagesController#index (for 127.0.0.1 at 2009-11-17 12:11:32) [GET]
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mPage Load (0.7ms)[0m   [0mSELECT * FROM "pages" [0m
Rendering template within layouts/application
Rendering pages/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
/tutors
***************************************
Completed in 22ms (View: 19, DB: 1) | 200 OK [http://www.example.com/pages]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('b1bfdfeb4a21e639539e6a5040f11d1dc3c017db', '75d2b1f2abdc4beda473a0c7d4e74e770ca9eeaf', NULL, 'cd6081e6e0a0e63b85b9f6c5648f84653f1c61bd', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE "users" SET "role" = 'null' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 12:11:32) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
/clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 2) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 12:11:32) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 3ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 12:11:32) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.0ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
/tutors/1/edit
***************************************
Completed in 16ms (View: 12, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET / with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 12:11:32) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.4ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.0ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.5ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
/tutors/1/edit
***************************************
Completed in 15ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.5ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('b1bfdfeb4a21e639539e6a5040f11d1dc3c017db', '75d2b1f2abdc4beda473a0c7d4e74e770ca9eeaf', NULL, 'cd6081e6e0a0e63b85b9f6c5648f84653f1c61bd', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE "users" SET "role" = 'admin' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 12:11:32) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
/clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 2) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 12:11:33) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.9ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 3ms (DB: 1) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 12:11:33) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.3ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.5ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
/tutors
***************************************
Completed in 15ms (View: 12, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET / with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 12:11:33) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.4ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.1ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.1ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
/tutors
***************************************
Completed in 15ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('6a4e4d0bf5137f4239415d46c6952af8bf9a0bec', 'e73b1586455340703f03b9374405cb36fe834b35', NULL, '494c986eb84a2850e0beabb8a2e5bc5647da7baf', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE "users" SET "role" = 'null' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 12:11:33) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
/clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 12:11:33) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 12:11:33) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.0ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.6ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
/tutors/1/edit
***************************************
Completed in 15ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /tutors with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing TutorsController#index (for 127.0.0.1 at 2009-11-17 12:11:33) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Redirected to http://www.example.com/
Filter chain halted as [:must_be_admin] rendered_or_redirected.
Completed in 1ms (DB: 0) | 302 Found [http://www.example.com/tutors]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/tutors"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 12:11:33) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.0ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.1ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
/tutors/1/edit
***************************************
Completed in 15ms (View: 12, DB: 2) | 200 OK [http://www.example.com/]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('6a4e4d0bf5137f4239415d46c6952af8bf9a0bec', 'e73b1586455340703f03b9374405cb36fe834b35', NULL, '494c986eb84a2850e0beabb8a2e5bc5647da7baf', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE "users" SET "role" = 'admin' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 12:11:33) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
/clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 2) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 12:11:33) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 12:11:33) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.4ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.3ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.2ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
/tutors
***************************************
Completed in 16ms (View: 12, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /tutors with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing TutorsController#index (for 127.0.0.1 at 2009-11-17 12:11:33) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mTutor Load (0.6ms)[0m   [0;1mSELECT * FROM "tutors" ORDER BY family_name LIMIT 30 OFFSET 0[0m
Rendering template within layouts/application
Rendering tutors/index
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
/tutors
***************************************
Completed in 11ms (View: 6, DB: 1) | 200 OK [http://www.example.com/tutors]
REQUESTING PAGE: GET /tutors/1/edit with {} and HTTP headers {}


Processing TutorsController#edit (for 127.0.0.1 at 2009-11-17 12:11:33) [GET]
  Parameters: {"id"=>"1"}
Redirected to http://www.example.com/clearance/sessions/new
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/tutors/1/edit]
REQUESTING PAGE: GET http://www.example.com/clearance/sessions/new with {} and HTTP headers {"HTTP_REFERER"=>"/tutors/1/edit"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 12:11:33) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
/clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://www.example.com/clearance/sessions/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('6a4e4d0bf5137f4239415d46c6952af8bf9a0bec', 'e73b1586455340703f03b9374405cb36fe834b35', NULL, '494c986eb84a2850e0beabb8a2e5bc5647da7baf', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 12:11:33) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
/clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 12:11:33) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 12:11:33) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (1.6ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.3ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.2ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
/tutors/1/edit
***************************************
Completed in 18ms (View: 13, DB: 3) | 200 OK [http://www.example.com/]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('6a4e4d0bf5137f4239415d46c6952af8bf9a0bec', 'e73b1586455340703f03b9374405cb36fe834b35', NULL, '494c986eb84a2850e0beabb8a2e5bc5647da7baf', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 12:11:33) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
/clearance/session/new
***************************************
Completed in 10ms (View: 9, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 12:11:33) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 12:11:33) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.4ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.3ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.5ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
/tutors/1/edit
***************************************
Completed in 16ms (View: 12, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /tutors/new with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing TutorsController#new (for 127.0.0.1 at 2009-11-17 12:11:33) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/application
Rendering tutors/new
Rendered tutors/_tutor_form (10.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
/tutors/1/edit
***************************************
Completed in 17ms (View: 16, DB: 0) | 200 OK [http://www.example.com/tutors/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('6a4e4d0bf5137f4239415d46c6952af8bf9a0bec', 'e73b1586455340703f03b9374405cb36fe834b35', NULL, '494c986eb84a2850e0beabb8a2e5bc5647da7baf', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mTutor Create (0.2ms)[0m   [0mINSERT INTO "tutors" ("textbook_experience", "updated_at", "photo_file_name", "photo_file_size", "course_experience", "qualifications", "photo_updated_at", "national_knowledge", "sex", "flavour", "given_name", "family_name", "photo_content_type", "phone", "given_name_first", "age", "address", "experience", "created_at") VALUES(NULL, '2009-11-17 05:11:33', NULL, NULL, NULL, NULL, NULL, NULL, 'm', NULL, 'Iain', 'Wood', NULL, NULL, 't', NULL, NULL, 'email@person.com''s private details', '2009-11-17 05:11:33')[0m
[paperclip] Saving attachments.
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE "users" SET "tutor_id" = 1 WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 12:11:33) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
/clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 2) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 12:11:33) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 12:11:33) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.2ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
/tutors/1/edit
***************************************
Completed in 15ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /tutors/new with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing TutorsController#new (for 127.0.0.1 at 2009-11-17 12:11:33) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mTutor Load (0.4ms)[0m   [0mSELECT * FROM "tutors" WHERE ("tutors"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tutors" WHERE ("tutors"."id" = 1) [0m
Rendering template within layouts/application
Rendering tutors/new
Rendered tutors/_tutor_form (10.4ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
/tutors/1/edit
***************************************
Completed in 18ms (View: 15, DB: 1) | 200 OK [http://www.example.com/tutors/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
REQUESTING PAGE: GET /passwords/new with {} and HTTP headers {}


Processing Clearance::PasswordsController#new (for 127.0.0.1 at 2009-11-17 12:11:33) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/passwords"}
Rendering template within layouts/application
Rendering passwords/new
***************************************
/clearance/session/new
***************************************
Completed in 11ms (View: 9, DB: 0) | 200 OK [http://www.example.com/passwords/new]
REQUESTING PAGE: POST /passwords with {"commit"=>"Reset password", "password"=>{"email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/passwords/new"}


Processing Clearance::PasswordsController#create (for 127.0.0.1 at 2009-11-17 12:11:33) [POST]
  Parameters: {"commit"=>"Reset password", "action"=>"create", "controller"=>"clearance/passwords", "password"=>"[FILTERED]"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering passwords/new
***************************************
/clearance/session/new
***************************************
Completed in 9ms (View: 8, DB: 0) | 200 OK [http://www.example.com/passwords]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('6a4e4d0bf5137f4239415d46c6952af8bf9a0bec', 'e73b1586455340703f03b9374405cb36fe834b35', NULL, '494c986eb84a2850e0beabb8a2e5bc5647da7baf', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 'f')[0m
REQUESTING PAGE: GET /passwords/new with {} and HTTP headers {}


Processing Clearance::PasswordsController#new (for 127.0.0.1 at 2009-11-17 12:11:33) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/passwords"}
Rendering template within layouts/application
Rendering passwords/new
***************************************
/clearance/session/new
***************************************
Completed in 8ms (View: 8, DB: 1) | 200 OK [http://www.example.com/passwords/new]
REQUESTING PAGE: POST /passwords with {"commit"=>"Reset password", "password"=>{"email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/passwords/new"}


Processing Clearance::PasswordsController#create (for 127.0.0.1 at 2009-11-17 12:11:33) [POST]
  Parameters: {"commit"=>"Reset password", "action"=>"create", "controller"=>"clearance/passwords", "password"=>"[FILTERED]"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE "users" SET "token" = 'c9597e7db8da7f0488a647440f275ce7643701ff' WHERE "id" = 2[0m
Sent mail to email@person.com

Date: Tue, 17 Nov 2009 12:11:33 +0700
From: donotreply@example.com
To: email@person.com
Subject: Change your password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Someone, hopefully you, has requested that we send you a link to change your password.

Here's the link:

http://localhost/users/2/password/edit?token=c9597e7db8da7f0488a647440f275ce7643701ff

If you didn't request this, ignore this email. Don't worry. Your password hasn't been changed.
Redirected to http://www.example.com/session/new
Completed in 58ms (DB: 1) | 302 Found [http://www.example.com/passwords]
REQUESTING PAGE: GET http://www.example.com/session/new with {} and HTTP headers {"HTTP_REFERER"=>"/passwords"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 12:11:33) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
/clearance/session/new
***************************************
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://www.example.com/session/new]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('3bb6134b5c2dac1b5d5520193f6bd06c18be0408', 'ff636450b536d5863695229dffb7a40a71bbb810', NULL, '3560ca6ce7b2080f1c4b9ca73777d5aa59625255', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 'f')[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
REQUESTING PAGE: GET /users/2/password/edit?token=3560ca6ce7b2080f1c4b9ca73777d5aa59625255 with {} and HTTP headers {}


Processing Clearance::PasswordsController#edit (for 127.0.0.1 at 2009-11-17 12:11:34) [GET]
  Parameters: {"token"=>"3560ca6ce7b2080f1c4b9ca73777d5aa59625255", "action"=>"edit", "controller"=>"clearance/passwords", "user_id"=>"2"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."token" = '3560ca6ce7b2080f1c4b9ca73777d5aa59625255' AND "users"."id" = '2') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '3560ca6ce7b2080f1c4b9ca73777d5aa59625255' AND "users"."id" = '2') LIMIT 1[0m
Rendering template within layouts/application
Rendering passwords/edit
***************************************
/clearance/session/new
***************************************
Completed in 14ms (View: 12, DB: 2) | 200 OK [http://www.example.com/users/2/password/edit?token=3560ca6ce7b2080f1c4b9ca73777d5aa59625255]
REQUESTING PAGE: POST /users/2/password?token=3560ca6ce7b2080f1c4b9ca73777d5aa59625255 with {"user"=>{"password_confirmation"=>"wrongconfirmation", "password"=>"newpassword"}, "commit"=>"Save this password", "_method"=>"put"} and HTTP headers {"HTTP_REFERER"=>"/users/2/password/edit?token=3560ca6ce7b2080f1c4b9ca73777d5aa59625255"}


Processing Clearance::PasswordsController#update (for 127.0.0.1 at 2009-11-17 12:11:34) [PUT]
  Parameters: {"user"=>{"password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Save this password", "token"=>"3560ca6ce7b2080f1c4b9ca73777d5aa59625255", "action"=>"update", "_method"=>"put", "controller"=>"clearance/passwords", "user_id"=>"2"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."token" = '3560ca6ce7b2080f1c4b9ca73777d5aa59625255' AND "users"."id" = '2') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '3560ca6ce7b2080f1c4b9ca73777d5aa59625255' AND "users"."id" = '2') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering passwords/edit
***************************************
/clearance/session/new
***************************************
Completed in 19ms (View: 14, DB: 1) | 200 OK [http://www.example.com/users/2/password?token=3560ca6ce7b2080f1c4b9ca73777d5aa59625255]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('3bb6134b5c2dac1b5d5520193f6bd06c18be0408', 'ff636450b536d5863695229dffb7a40a71bbb810', NULL, '3560ca6ce7b2080f1c4b9ca73777d5aa59625255', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 'f')[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
REQUESTING PAGE: GET /users/2/password/edit?token=3560ca6ce7b2080f1c4b9ca73777d5aa59625255 with {} and HTTP headers {}


Processing Clearance::PasswordsController#edit (for 127.0.0.1 at 2009-11-17 12:11:34) [GET]
  Parameters: {"token"=>"3560ca6ce7b2080f1c4b9ca73777d5aa59625255", "action"=>"edit", "controller"=>"clearance/passwords", "user_id"=>"2"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '3560ca6ce7b2080f1c4b9ca73777d5aa59625255' AND "users"."id" = '2') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."token" = '3560ca6ce7b2080f1c4b9ca73777d5aa59625255' AND "users"."id" = '2') LIMIT 1[0m
Rendering template within layouts/application
Rendering passwords/edit
***************************************
/clearance/session/new
***************************************
Completed in 13ms (View: 11, DB: 1) | 200 OK [http://www.example.com/users/2/password/edit?token=3560ca6ce7b2080f1c4b9ca73777d5aa59625255]
REQUESTING PAGE: POST /users/2/password?token=3560ca6ce7b2080f1c4b9ca73777d5aa59625255 with {"user"=>{"password_confirmation"=>"newpassword", "password"=>"newpassword"}, "commit"=>"Save this password", "_method"=>"put"} and HTTP headers {"HTTP_REFERER"=>"/users/2/password/edit?token=3560ca6ce7b2080f1c4b9ca73777d5aa59625255"}


Processing Clearance::PasswordsController#update (for 127.0.0.1 at 2009-11-17 12:11:34) [PUT]
  Parameters: {"user"=>{"password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Save this password", "token"=>"3560ca6ce7b2080f1c4b9ca73777d5aa59625255", "action"=>"update", "_method"=>"put", "controller"=>"clearance/passwords", "user_id"=>"2"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '3560ca6ce7b2080f1c4b9ca73777d5aa59625255' AND "users"."id" = '2') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."token" = '3560ca6ce7b2080f1c4b9ca73777d5aa59625255' AND "users"."id" = '2') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE "users" SET "token" = NULL, "encrypted_password" = '0dd938a30ec3baf2329ae46ec3709da0ceb6e31e' WHERE "id" = 2[0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE "users" SET "email_confirmed" = 't' WHERE "id" = 2[0m
Redirected to http://www.example.com/
Completed in 8ms (DB: 1) | 302 Found [http://www.example.com/users/2/password?token=3560ca6ce7b2080f1c4b9ca73777d5aa59625255]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/users/2/password?token=3560ca6ce7b2080f1c4b9ca73777d5aa59625255"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 12:11:34) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.5ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.1ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.9ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
/tutors/1/edit
***************************************
Completed in 16ms (View: 12, DB: 2) | 200 OK [http://www.example.com/]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
REQUESTING PAGE: DELETE /session with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing Clearance::SessionsController#destroy (for 127.0.0.1 at 2009-11-17 12:11:34) [DELETE]
  Parameters: {"action"=>"destroy", "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
Redirected to http://www.example.com/session/new
Completed in 3ms (DB: 1) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 12:11:34) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
/clearance/session/new
***************************************
Completed in 9ms (View: 9, DB: 0) | 200 OK [http://www.example.com/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."token" = '') LIMIT 1[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/session/new"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 12:11:34) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
/clearance/session/new
***************************************
Completed in 11ms (View: 10, DB: 0) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"newpassword", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 12:11:34) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 12:11:34) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.4ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.1ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
/tutors/1/edit
***************************************
Completed in 15ms (View: 12, DB: 2) | 200 OK [http://www.example.com/]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 12:11:34) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
/clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: GET /session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 12:11:34) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
/clearance/session/new
***************************************
Completed in 12ms (View: 11, DB: 0) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 12:11:34) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering sessions/new (unauthorized)
***************************************
/clearance/session/new
***************************************
Completed in 11ms (View: 10, DB: 0) | 401 Unauthorized [http://www.example.com/session]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('3bb6134b5c2dac1b5d5520193f6bd06c18be0408', 'ff636450b536d5863695229dffb7a40a71bbb810', NULL, '3560ca6ce7b2080f1c4b9ca73777d5aa59625255', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 'f')[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 12:11:34) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
/clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: GET /session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 12:11:34) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
/clearance/session/new
***************************************
Completed in 11ms (View: 11, DB: 0) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 12:11:34) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Sent mail to email@person.com

Date: Tue, 17 Nov 2009 12:11:34 +0700
From: donotreply@example.com
To: email@person.com
Subject: Account confirmation
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


http://localhost/users/2/confirmation/new?token=3560ca6ce7b2080f1c4b9ca73777d5aa59625255
Redirected to http://www.example.com/session/new
Completed in 6ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 12:11:34) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
/clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://www.example.com/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('3bb6134b5c2dac1b5d5520193f6bd06c18be0408', 'ff636450b536d5863695229dffb7a40a71bbb810', NULL, '3560ca6ce7b2080f1c4b9ca73777d5aa59625255', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 12:11:34) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
/clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: GET /session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 12:11:34) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
/clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"wrongpassword", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 12:11:34) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering sessions/new (unauthorized)
***************************************
/clearance/session/new
***************************************
Completed in 11ms (View: 10, DB: 1) | 401 Unauthorized [http://www.example.com/session]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('3bb6134b5c2dac1b5d5520193f6bd06c18be0408', 'ff636450b536d5863695229dffb7a40a71bbb810', NULL, '3560ca6ce7b2080f1c4b9ca73777d5aa59625255', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 12:11:34) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
/clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: GET /session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 12:11:34) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
/clearance/session/new
***************************************
Completed in 11ms (View: 11, DB: 0) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 12:11:34) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 12:11:34) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.4ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.1ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.2ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
/tutors/1/edit
***************************************
Completed in 16ms (View: 12, DB: 2) | 200 OK [http://www.example.com/]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('3bb6134b5c2dac1b5d5520193f6bd06c18be0408', 'ff636450b536d5863695229dffb7a40a71bbb810', NULL, '3560ca6ce7b2080f1c4b9ca73777d5aa59625255', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 12:11:34) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
/clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: GET /session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 12:11:34) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
/clearance/session/new
***************************************
Completed in 11ms (View: 10, DB: 0) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"1", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 12:11:34) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"1"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Update (0.7ms)[0m   [0;1mUPDATE "users" SET "token" = '0d7626e5cf146f6a94a1e0158ab3e69aa9ca3921', "token_expires_at" = '2009-12-01 05:11:34' WHERE "id" = 2[0m
Redirected to http://www.example.com/
Completed in 131ms (DB: 1) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 12:11:35) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.4ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.1ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.2ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
/tutors/1/edit
***************************************
Completed in 16ms (View: 12, DB: 2) | 200 OK [http://www.example.com/]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '0d7626e5cf146f6a94a1e0158ab3e69aa9ca3921') LIMIT 1[0m
REQUESTING PAGE: GET / with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 12:11:35) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.0ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
/tutors/1/edit
***************************************
Completed in 15ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '0d7626e5cf146f6a94a1e0158ab3e69aa9ca3921') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('b6ab775c2dd4c4c70ec5c340f4f112903925daf3', '5399bbfa3b434ea4438fd1fd4551128ad1614c51', NULL, '59127113b7ffcde02bb8a5a827f9577665931d38', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 12:11:35) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
/clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 12:11:35) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 12:11:35) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.0ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (7.1ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
/tutors/1/edit
***************************************
Completed in 17ms (View: 13, DB: 2) | 200 OK [http://www.example.com/]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
REQUESTING PAGE: DELETE /session with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing Clearance::SessionsController#destroy (for 127.0.0.1 at 2009-11-17 12:11:35) [DELETE]
  Parameters: {"action"=>"destroy", "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE "users" SET "token" = NULL WHERE "id" = 2[0m
Redirected to http://www.example.com/session/new
Completed in 3ms (DB: 1) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 12:11:35) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
/clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://www.example.com/session/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('b6ab775c2dd4c4c70ec5c340f4f112903925daf3', '5399bbfa3b434ea4438fd1fd4551128ad1614c51', NULL, '59127113b7ffcde02bb8a5a827f9577665931d38', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 12:11:35) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
/clearance/session/new
***************************************
Completed in 10ms (View: 9, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"1", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 12:11:35) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"1"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE "users" SET "token" = 'fda6ab47a232e6e76c9785f9b23960db352f4ee6', "token_expires_at" = '2009-12-01 05:11:35' WHERE "id" = 2[0m
Redirected to http://www.example.com/
Completed in 4ms (DB: 1) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 12:11:35) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.1ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.1ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
/tutors/1/edit
***************************************
Completed in 15ms (View: 12, DB: 2) | 200 OK [http://www.example.com/]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = 'fda6ab47a232e6e76c9785f9b23960db352f4ee6') LIMIT 1[0m
REQUESTING PAGE: DELETE /session with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing Clearance::SessionsController#destroy (for 127.0.0.1 at 2009-11-17 12:11:35) [DELETE]
  Parameters: {"action"=>"destroy", "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."token" = 'fda6ab47a232e6e76c9785f9b23960db352f4ee6') LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE "users" SET "token" = NULL, "token_expires_at" = NULL WHERE "id" = 2[0m
Redirected to http://www.example.com/session/new
Completed in 3ms (DB: 1) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 12:11:35) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
/clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://www.example.com/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."token" = '') LIMIT 1[0m
REQUESTING PAGE: GET / with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/session/new"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 12:11:35) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.4ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.1ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
Rendered pages/_content_for_newsbar (5.5ms)
***************************************
/session/new
***************************************
Completed in 15ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '') LIMIT 1[0m
REQUESTING PAGE: GET /users/new with {} and HTTP headers {}


Processing Clearance::UsersController#new (for 127.0.0.1 at 2009-11-17 12:11:35) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/users"}
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (6.7ms)
***************************************
/clearance/session/new
***************************************
Completed in 13ms (View: 11, DB: 0) | 200 OK [http://www.example.com/users/new]
REQUESTING PAGE: POST /users with {"user"=>{"language"=>"en", "password_confirmation"=>"", "password"=>"password", "email"=>"invalidemail"}, "commit"=>"Submit"} and HTTP headers {"HTTP_REFERER"=>"/users/new"}


Processing Clearance::UsersController#create (for 127.0.0.1 at 2009-11-17 12:11:35) [POST]
  Parameters: {"user"=>{"language"=>"en", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "email"=>"invalidemail"}, "commit"=>"Submit", "action"=>"create", "controller"=>"clearance/users"}
WARNING: Can't mass-assign these protected attributes: language
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'invalidemail') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (11.3ms)
***************************************
/clearance/session/new
***************************************
Completed in 17ms (View: 15, DB: 0) | 200 OK [http://www.example.com/users]
REQUESTING PAGE: GET /users/new with {} and HTTP headers {}


Processing Clearance::UsersController#new (for 127.0.0.1 at 2009-11-17 12:11:35) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/users"}
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (6.0ms)
***************************************
/clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://www.example.com/users/new]
REQUESTING PAGE: POST /users with {"user"=>{"language"=>"en", "password_confirmation"=>"password", "password"=>"password", "email"=>"email@person.com"}, "commit"=>"Submit"} and HTTP headers {"HTTP_REFERER"=>"/users/new"}


Processing Clearance::UsersController#create (for 127.0.0.1 at 2009-11-17 12:11:35) [POST]
  Parameters: {"user"=>{"language"=>"en", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "email"=>"email@person.com"}, "commit"=>"Submit", "action"=>"create", "controller"=>"clearance/users"}
WARNING: Can't mass-assign these protected attributes: language
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('b6ab775c2dd4c4c70ec5c340f4f112903925daf3', '5399bbfa3b434ea4438fd1fd4551128ad1614c51', NULL, '59127113b7ffcde02bb8a5a827f9577665931d38', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 'f')[0m
Sent mail to email@person.com

Date: Tue, 17 Nov 2009 12:11:35 +0700
From: donotreply@example.com
To: email@person.com
Subject: Account confirmation
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


http://localhost/users/2/confirmation/new?token=59127113b7ffcde02bb8a5a827f9577665931d38
Redirected to http://www.example.com/session/new
Completed in 8ms (DB: 1) | 302 Found [http://www.example.com/users]
REQUESTING PAGE: GET http://www.example.com/session/new with {} and HTTP headers {"HTTP_REFERER"=>"/users"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 12:11:35) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
/clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://www.example.com/session/new]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('b6ab775c2dd4c4c70ec5c340f4f112903925daf3', '5399bbfa3b434ea4438fd1fd4551128ad1614c51', NULL, '59127113b7ffcde02bb8a5a827f9577665931d38', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 'f')[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
REQUESTING PAGE: GET /users/2/confirmation/new?token=59127113b7ffcde02bb8a5a827f9577665931d38 with {} and HTTP headers {}


Processing Clearance::ConfirmationsController#new (for 127.0.0.1 at 2009-11-17 12:11:35) [GET]
  Parameters: {"token"=>"[FILTERED]", "action"=>"new", "controller"=>"clearance/confirmations", "user_id"=>"2"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '2') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."token" = '59127113b7ffcde02bb8a5a827f9577665931d38' AND "users"."id" = '2') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '59127113b7ffcde02bb8a5a827f9577665931d38' AND "users"."id" = '2') LIMIT 1[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE "users" SET "email_confirmed" = 't', "token" = NULL WHERE "id" = 2[0m
Redirected to http://www.example.com/
Completed in 7ms (DB: 3) | 302 Found [http://www.example.com/users/2/confirmation/new?token=59127113b7ffcde02bb8a5a827f9577665931d38]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/users/2/confirmation/new?token=59127113b7ffcde02bb8a5a827f9577665931d38"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 12:11:35) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.4ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.1ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.4ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
/tutors/1/edit
***************************************
Completed in 15ms (View: 12, DB: 2) | 200 OK [http://www.example.com/]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
REQUESTING PAGE: GET / with {} and HTTP headers {}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 12:11:35) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.4ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.2ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
Rendered pages/_content_for_newsbar (4.9ms)
***************************************
/session/new
***************************************
Completed in 12ms (View: 9, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /session/new with {} and HTTP headers {"HTTP_REFERER"=>"/"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 12:11:35) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
/clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://www.example.com/session/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('b6ab775c2dd4c4c70ec5c340f4f112903925daf3', '5399bbfa3b434ea4438fd1fd4551128ad1614c51', NULL, '59127113b7ffcde02bb8a5a827f9577665931d38', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE "users" SET "role" = 'null' WHERE "id" = 2[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mTutor Create (0.2ms)[0m   [0;1mINSERT INTO "tutors" ("textbook_experience", "updated_at", "photo_file_name", "photo_file_size", "course_experience", "qualifications", "photo_updated_at", "national_knowledge", "sex", "flavour", "given_name", "family_name", "photo_content_type", "phone", "given_name_first", "age", "address", "experience", "created_at") VALUES(NULL, '2009-11-17 05:11:35', NULL, NULL, NULL, NULL, NULL, NULL, 'm', NULL, 'Iain', 'Wood', NULL, NULL, 't', NULL, NULL, 'email@person.com''s private details', '2009-11-17 05:11:35')[0m
[paperclip] Saving attachments.
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE "users" SET "tutor_id" = 1 WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 12:11:35) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
/clearance/session/new
***************************************
Completed in 9ms (View: 9, DB: 2) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 12:11:35) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 12:11:35) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.0ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.4ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
/tutors/1/edit
***************************************
Completed in 104ms (View: 101, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET / with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 12:11:35) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.4ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.1ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
/tutors/1/edit
***************************************
Completed in 14ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /tutors/1/edit with {} and HTTP headers {"HTTP_REFERER"=>"/"}


Processing TutorsController#edit (for 127.0.0.1 at 2009-11-17 12:11:35) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mTutor Load (0.5ms)[0m   [0;1mSELECT * FROM "tutors" WHERE ("tutors"."id" = 1) [0m
Rendering template within layouts/application
Rendering tutors/edit
Rendered tutors/_tutor_form (10.3ms)
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
/tutors/1/edit
***************************************
Completed in 17ms (View: 15, DB: 1) | 200 OK [http://www.example.com/tutors/1/edit]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('13919bc375d0e2243696ba0c6bd964da10e7b271', '33b4d45ae4d7792e31ac36b9d43328170488d65d', NULL, 'c5620bc083fab6a16c17725e5bdd9b3ceed49ba7', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE "users" SET "role" = 'admin' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 12:11:36) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
/clearance/session/new
***************************************
Completed in 10ms (View: 9, DB: 2) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 12:11:36) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 12:11:36) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.0ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
/tutors
***************************************
Completed in 14ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET / with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 12:11:36) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.4ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.0ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.4ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
/tutors
***************************************
Completed in 14ms (View: 10, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /tutors with {} and HTTP headers {"HTTP_REFERER"=>"/"}


Processing TutorsController#index (for 127.0.0.1 at 2009-11-17 12:11:36) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mTutor Load (0.5ms)[0m   [0mSELECT * FROM "tutors" ORDER BY family_name LIMIT 30 OFFSET 0[0m
Rendering template within layouts/application
Rendering tutors/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
/tutors
***************************************
Completed in 6ms (View: 4, DB: 1) | 200 OK [http://www.example.com/tutors]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.7ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('c6a440ca6713e645e504e3b98b5bddbc37613051', 'dc36f178387feb527384c1792cac59da2f046747', NULL, 'b3e9d4aa527c5792708b86186f8a40806361d698', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (49.4ms)[0m   [0;1mUPDATE "users" SET "role" = 'null' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:26:59) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 109ms (View: 106, DB: 51) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:26:59) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 1) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:26:59) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.1ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (10.3ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 26ms (View: 18, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /newsitems/1 with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing NewsitemsController#show (for 127.0.0.1 at 2009-11-17 15:26:59) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mNewsitem Load (0.4ms)[0m   [0mSELECT * FROM "newsitems" WHERE ("newsitems"."id" = 1) [0m
Rendering template within layouts/application
Rendering newsitems/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 10ms (View: 6, DB: 1) | 200 OK [http://www.example.com/newsitems/1]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('7c8ce53474f9c447bc68d9ea1f5f17db56166776', 'fe46399718b7d20c82f677ee138582bf9bc2c31f', NULL, 'efa7bde81846a0072385817a3726879f444db8b6', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE "users" SET "role" = 'admin' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:26:59) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:26:59) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:26:59) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.4ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.0ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 15ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /newsitems/1 with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing NewsitemsController#show (for 127.0.0.1 at 2009-11-17 15:26:59) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mNewsitem Load (0.4ms)[0m   [0mSELECT * FROM "newsitems" WHERE ("newsitems"."id" = 1) [0m
Rendering template within layouts/application
Rendering newsitems/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 8ms (View: 6, DB: 1) | 200 OK [http://www.example.com/newsitems/1]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('7c8ce53474f9c447bc68d9ea1f5f17db56166776', 'fe46399718b7d20c82f677ee138582bf9bc2c31f', NULL, 'efa7bde81846a0072385817a3726879f444db8b6', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE "users" SET "role" = 'null' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:26:59) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 2) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:26:59) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:26:59) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.0ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 14ms (View: 10, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /newsitems with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing NewsitemsController#index (for 127.0.0.1 at 2009-11-17 15:26:59) [GET]
  [4;35;1mNewsitem Load (0.6ms)[0m   [0mSELECT * FROM "newsitems" [0m
Rendering template within layouts/application
Rendering newsitems/index
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 13ms (View: 11, DB: 1) | 200 OK [http://www.example.com/newsitems]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('7c8ce53474f9c447bc68d9ea1f5f17db56166776', 'fe46399718b7d20c82f677ee138582bf9bc2c31f', NULL, 'efa7bde81846a0072385817a3726879f444db8b6', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE "users" SET "role" = 'admin' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:26:59) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:26:59) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:26:59) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.0ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 14ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /newsitems with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing NewsitemsController#index (for 127.0.0.1 at 2009-11-17 15:26:59) [GET]
  [4;36;1mNewsitem Load (0.6ms)[0m   [0;1mSELECT * FROM "newsitems" [0m
Rendering template within layouts/application
Rendering newsitems/index
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 18ms (View: 16, DB: 1) | 200 OK [http://www.example.com/newsitems]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.5ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('7c8ce53474f9c447bc68d9ea1f5f17db56166776', 'fe46399718b7d20c82f677ee138582bf9bc2c31f', NULL, 'efa7bde81846a0072385817a3726879f444db8b6', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE "users" SET "role" = 'null' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:26:59) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 2) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:26:59) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:26:59) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.0ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.5ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 14ms (View: 10, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /pages with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing PagesController#index (for 127.0.0.1 at 2009-11-17 15:26:59) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Redirected to http://www.example.com/
Filter chain halted as [:must_be_admin] rendered_or_redirected.
Completed in 1ms (DB: 0) | 302 Found [http://www.example.com/pages]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/pages"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:26:59) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.0ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.4ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 13ms (View: 10, DB: 2) | 200 OK [http://www.example.com/]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('7c8ce53474f9c447bc68d9ea1f5f17db56166776', 'fe46399718b7d20c82f677ee138582bf9bc2c31f', NULL, 'efa7bde81846a0072385817a3726879f444db8b6', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mUser Update (0.6ms)[0m   [0mUPDATE "users" SET "role" = 'admin' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:26:59) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 2) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:26:59) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 1) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:26:59) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.0ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 15ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /pages with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing PagesController#index (for 127.0.0.1 at 2009-11-17 15:26:59) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mPage Load (0.7ms)[0m   [0mSELECT * FROM "pages" [0m
Rendering template within layouts/application
Rendering pages/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 23ms (View: 20, DB: 1) | 200 OK [http://www.example.com/pages]
  [4;35;1mUser Load (1.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.5ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('7c8ce53474f9c447bc68d9ea1f5f17db56166776', 'fe46399718b7d20c82f677ee138582bf9bc2c31f', NULL, 'efa7bde81846a0072385817a3726879f444db8b6', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE "users" SET "role" = 'null' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:26:59) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 2) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:26:59) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:26:59) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.0ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.6ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 14ms (View: 10, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET / with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:27:00) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.0ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.5ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 14ms (View: 10, DB: 2) | 200 OK [http://www.example.com/]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('997e152684a6a1ebe22a3817d066653de4e7094c', '29be26fea74482e1a9c0ca1e8f48ba52e19caf8c', NULL, '08c59734fea53427c3d79b3cdcafe5c9aff1de65', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE "users" SET "role" = 'admin' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:27:00) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:27:00) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:27:00) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.1ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.6ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 14ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET / with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:27:00) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (0.9ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.5ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 13ms (View: 10, DB: 2) | 200 OK [http://www.example.com/]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('997e152684a6a1ebe22a3817d066653de4e7094c', '29be26fea74482e1a9c0ca1e8f48ba52e19caf8c', NULL, '08c59734fea53427c3d79b3cdcafe5c9aff1de65', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE "users" SET "role" = 'null' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:27:00) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 11ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:27:00) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:27:00) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.0ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 14ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /tutors with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing TutorsController#index (for 127.0.0.1 at 2009-11-17 15:27:00) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Redirected to http://www.example.com/
Filter chain halted as [:must_be_admin] rendered_or_redirected.
Completed in 1ms (DB: 0) | 302 Found [http://www.example.com/tutors]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/tutors"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:27:00) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.0ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.4ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 13ms (View: 10, DB: 2) | 200 OK [http://www.example.com/]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('997e152684a6a1ebe22a3817d066653de4e7094c', '29be26fea74482e1a9c0ca1e8f48ba52e19caf8c', NULL, '08c59734fea53427c3d79b3cdcafe5c9aff1de65', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE "users" SET "role" = 'admin' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:27:00) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 2) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:27:00) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 1) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:27:00) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.0ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (7.1ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 16ms (View: 13, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /tutors with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing TutorsController#index (for 127.0.0.1 at 2009-11-17 15:27:00) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mTutor Load (0.6ms)[0m   [0;1mSELECT * FROM "tutors" ORDER BY family_name LIMIT 30 OFFSET 0[0m
Rendering template within layouts/application
Rendering tutors/index
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 11ms (View: 6, DB: 1) | 200 OK [http://www.example.com/tutors]
REQUESTING PAGE: GET /tutors/1/edit with {} and HTTP headers {}


Processing TutorsController#edit (for 127.0.0.1 at 2009-11-17 15:27:00) [GET]
  Parameters: {"id"=>"1"}
Redirected to http://www.example.com/clearance/sessions/new
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/tutors/1/edit]
REQUESTING PAGE: GET http://www.example.com/clearance/sessions/new with {} and HTTP headers {"HTTP_REFERER"=>"/tutors/1/edit"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:27:00) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://www.example.com/clearance/sessions/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('997e152684a6a1ebe22a3817d066653de4e7094c', '29be26fea74482e1a9c0ca1e8f48ba52e19caf8c', NULL, '08c59734fea53427c3d79b3cdcafe5c9aff1de65', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:27:00) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:27:00) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 3ms (DB: 1) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:27:00) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.4ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.2ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.5ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 14ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('997e152684a6a1ebe22a3817d066653de4e7094c', '29be26fea74482e1a9c0ca1e8f48ba52e19caf8c', NULL, '08c59734fea53427c3d79b3cdcafe5c9aff1de65', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:27:00) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:27:00) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 3ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:27:00) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.4ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.2ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 14ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /tutors/new with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing TutorsController#new (for 127.0.0.1 at 2009-11-17 15:27:00) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/application
Rendering tutors/new
Rendered tutors/_tutor_form (13.4ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 22ms (View: 18, DB: 0) | 200 OK [http://www.example.com/tutors/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.5ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('997e152684a6a1ebe22a3817d066653de4e7094c', '29be26fea74482e1a9c0ca1e8f48ba52e19caf8c', NULL, '08c59734fea53427c3d79b3cdcafe5c9aff1de65', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mTutor Create (0.2ms)[0m   [0mINSERT INTO "tutors" ("textbook_experience", "updated_at", "photo_file_name", "photo_file_size", "course_experience", "qualifications", "photo_updated_at", "national_knowledge", "sex", "flavour", "given_name", "family_name", "photo_content_type", "phone", "given_name_first", "age", "address", "experience", "created_at") VALUES(NULL, '2009-11-17 08:27:00', NULL, NULL, NULL, NULL, NULL, NULL, 'm', NULL, 'Iain', 'Wood', NULL, NULL, 't', NULL, NULL, 'email@person.com''s private details', '2009-11-17 08:27:00')[0m
[paperclip] Saving attachments.
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE "users" SET "tutor_id" = 1 WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:27:00) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 12ms (View: 11, DB: 2) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:27:00) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:27:00) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.1ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 1
***************************************
***************************************
tutor_link = /tutors/1/edit
***************************************
Completed in 15ms (View: 12, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /tutors/new with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing TutorsController#new (for 127.0.0.1 at 2009-11-17 15:27:00) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mTutor Load (0.4ms)[0m   [0mSELECT * FROM "tutors" WHERE ("tutors"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tutors" WHERE ("tutors"."id" = 1) [0m
Rendering template within layouts/application
Rendering tutors/new
Rendered tutors/_tutor_form (10.3ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 1
***************************************
***************************************
tutor_link = /tutors/1/edit
***************************************
Completed in 18ms (View: 15, DB: 1) | 200 OK [http://www.example.com/tutors/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
REQUESTING PAGE: GET /passwords/new with {} and HTTP headers {}


Processing Clearance::PasswordsController#new (for 127.0.0.1 at 2009-11-17 15:27:00) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/passwords"}
Rendering template within layouts/application
Rendering passwords/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 11ms (View: 9, DB: 0) | 200 OK [http://www.example.com/passwords/new]
REQUESTING PAGE: POST /passwords with {"commit"=>"Reset password", "password"=>{"email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/passwords/new"}


Processing Clearance::PasswordsController#create (for 127.0.0.1 at 2009-11-17 15:27:00) [POST]
  Parameters: {"commit"=>"Reset password", "action"=>"create", "controller"=>"clearance/passwords", "password"=>"[FILTERED]"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering passwords/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 9ms (View: 8, DB: 0) | 200 OK [http://www.example.com/passwords]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.5ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('997e152684a6a1ebe22a3817d066653de4e7094c', '29be26fea74482e1a9c0ca1e8f48ba52e19caf8c', NULL, '08c59734fea53427c3d79b3cdcafe5c9aff1de65', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 'f')[0m
REQUESTING PAGE: GET /passwords/new with {} and HTTP headers {}


Processing Clearance::PasswordsController#new (for 127.0.0.1 at 2009-11-17 15:27:00) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/passwords"}
Rendering template within layouts/application
Rendering passwords/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 8ms (View: 8, DB: 1) | 200 OK [http://www.example.com/passwords/new]
REQUESTING PAGE: POST /passwords with {"commit"=>"Reset password", "password"=>{"email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/passwords/new"}


Processing Clearance::PasswordsController#create (for 127.0.0.1 at 2009-11-17 15:27:00) [POST]
  Parameters: {"commit"=>"Reset password", "action"=>"create", "controller"=>"clearance/passwords", "password"=>"[FILTERED]"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE "users" SET "token" = '450acb5cc3081de65087bad6852293b79ef3a3e8' WHERE "id" = 2[0m
Sent mail to email@person.com

Date: Tue, 17 Nov 2009 15:27:00 +0700
From: donotreply@example.com
To: email@person.com
Subject: Change your password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Someone, hopefully you, has requested that we send you a link to change your password.

Here's the link:

http://localhost/users/2/password/edit?token=450acb5cc3081de65087bad6852293b79ef3a3e8

If you didn't request this, ignore this email. Don't worry. Your password hasn't been changed.
Redirected to http://www.example.com/session/new
Completed in 53ms (DB: 1) | 302 Found [http://www.example.com/passwords]
REQUESTING PAGE: GET http://www.example.com/session/new with {} and HTTP headers {"HTTP_REFERER"=>"/passwords"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:27:00) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 9ms (View: 9, DB: 0) | 200 OK [http://www.example.com/session/new]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('997e152684a6a1ebe22a3817d066653de4e7094c', '29be26fea74482e1a9c0ca1e8f48ba52e19caf8c', NULL, '08c59734fea53427c3d79b3cdcafe5c9aff1de65', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 'f')[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
REQUESTING PAGE: GET /users/2/password/edit?token=08c59734fea53427c3d79b3cdcafe5c9aff1de65 with {} and HTTP headers {}


Processing Clearance::PasswordsController#edit (for 127.0.0.1 at 2009-11-17 15:27:01) [GET]
  Parameters: {"token"=>"08c59734fea53427c3d79b3cdcafe5c9aff1de65", "action"=>"edit", "controller"=>"clearance/passwords", "user_id"=>"2"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."token" = '08c59734fea53427c3d79b3cdcafe5c9aff1de65' AND "users"."id" = '2') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '08c59734fea53427c3d79b3cdcafe5c9aff1de65' AND "users"."id" = '2') LIMIT 1[0m
Rendering template within layouts/application
Rendering passwords/edit
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 107ms (View: 106, DB: 2) | 200 OK [http://www.example.com/users/2/password/edit?token=08c59734fea53427c3d79b3cdcafe5c9aff1de65]
REQUESTING PAGE: POST /users/2/password?token=08c59734fea53427c3d79b3cdcafe5c9aff1de65 with {"user"=>{"password_confirmation"=>"wrongconfirmation", "password"=>"newpassword"}, "commit"=>"Save this password", "_method"=>"put"} and HTTP headers {"HTTP_REFERER"=>"/users/2/password/edit?token=08c59734fea53427c3d79b3cdcafe5c9aff1de65"}


Processing Clearance::PasswordsController#update (for 127.0.0.1 at 2009-11-17 15:27:01) [PUT]
  Parameters: {"user"=>{"password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Save this password", "token"=>"08c59734fea53427c3d79b3cdcafe5c9aff1de65", "action"=>"update", "_method"=>"put", "controller"=>"clearance/passwords", "user_id"=>"2"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."token" = '08c59734fea53427c3d79b3cdcafe5c9aff1de65' AND "users"."id" = '2') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '08c59734fea53427c3d79b3cdcafe5c9aff1de65' AND "users"."id" = '2') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering passwords/edit
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 19ms (View: 15, DB: 1) | 200 OK [http://www.example.com/users/2/password?token=08c59734fea53427c3d79b3cdcafe5c9aff1de65]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('e1863f555db8891f6f752c5f9351e82c991e9fe5', 'a6bb5ea68c9a76c0cae066e2fd2bcd740213c021', NULL, '9d070904a22cd3a5d372d3c1e112a5edb551114b', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 'f')[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
REQUESTING PAGE: GET /users/2/password/edit?token=9d070904a22cd3a5d372d3c1e112a5edb551114b with {} and HTTP headers {}


Processing Clearance::PasswordsController#edit (for 127.0.0.1 at 2009-11-17 15:27:01) [GET]
  Parameters: {"token"=>"9d070904a22cd3a5d372d3c1e112a5edb551114b", "action"=>"edit", "controller"=>"clearance/passwords", "user_id"=>"2"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '9d070904a22cd3a5d372d3c1e112a5edb551114b' AND "users"."id" = '2') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."token" = '9d070904a22cd3a5d372d3c1e112a5edb551114b' AND "users"."id" = '2') LIMIT 1[0m
Rendering template within layouts/application
Rendering passwords/edit
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 12ms (View: 10, DB: 1) | 200 OK [http://www.example.com/users/2/password/edit?token=9d070904a22cd3a5d372d3c1e112a5edb551114b]
REQUESTING PAGE: POST /users/2/password?token=9d070904a22cd3a5d372d3c1e112a5edb551114b with {"user"=>{"password_confirmation"=>"newpassword", "password"=>"newpassword"}, "commit"=>"Save this password", "_method"=>"put"} and HTTP headers {"HTTP_REFERER"=>"/users/2/password/edit?token=9d070904a22cd3a5d372d3c1e112a5edb551114b"}


Processing Clearance::PasswordsController#update (for 127.0.0.1 at 2009-11-17 15:27:01) [PUT]
  Parameters: {"user"=>{"password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Save this password", "token"=>"9d070904a22cd3a5d372d3c1e112a5edb551114b", "action"=>"update", "_method"=>"put", "controller"=>"clearance/passwords", "user_id"=>"2"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '9d070904a22cd3a5d372d3c1e112a5edb551114b' AND "users"."id" = '2') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."token" = '9d070904a22cd3a5d372d3c1e112a5edb551114b' AND "users"."id" = '2') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (1.5ms)[0m   [0;1mUPDATE "users" SET "token" = NULL, "encrypted_password" = '4ec82bb3f322f4c4fec3d0dfb7250e8f14c5e463' WHERE "id" = 2[0m
  [4;35;1mUser Update (0.2ms)[0m   [0mUPDATE "users" SET "email_confirmed" = 't' WHERE "id" = 2[0m
Redirected to http://www.example.com/
Completed in 9ms (DB: 2) | 302 Found [http://www.example.com/users/2/password?token=9d070904a22cd3a5d372d3c1e112a5edb551114b]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/users/2/password?token=9d070904a22cd3a5d372d3c1e112a5edb551114b"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:27:01) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.8ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.1ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 15ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
REQUESTING PAGE: DELETE /session with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing Clearance::SessionsController#destroy (for 127.0.0.1 at 2009-11-17 15:27:01) [DELETE]
  Parameters: {"action"=>"destroy", "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
Redirected to http://www.example.com/session/new
Completed in 3ms (DB: 1) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:27:01) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 9ms (View: 9, DB: 0) | 200 OK [http://www.example.com/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."token" = '') LIMIT 1[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/session/new"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:27:01) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 11ms (View: 10, DB: 0) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"newpassword", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:27:01) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:27:01) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.1ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (95.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 105ms (View: 101, DB: 2) | 200 OK [http://www.example.com/]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:27:01) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: GET /session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:27:01) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:27:01) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering sessions/new (unauthorized)
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 11ms (View: 10, DB: 0) | 401 Unauthorized [http://www.example.com/session]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('e1863f555db8891f6f752c5f9351e82c991e9fe5', 'a6bb5ea68c9a76c0cae066e2fd2bcd740213c021', NULL, '9d070904a22cd3a5d372d3c1e112a5edb551114b', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 'f')[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:27:01) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 10ms (View: 9, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: GET /session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:27:01) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:27:01) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Sent mail to email@person.com

Date: Tue, 17 Nov 2009 15:27:01 +0700
From: donotreply@example.com
To: email@person.com
Subject: Account confirmation
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


http://localhost/users/2/confirmation/new?token=9d070904a22cd3a5d372d3c1e112a5edb551114b
Redirected to http://www.example.com/session/new
Completed in 6ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:27:01) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 9ms (View: 9, DB: 0) | 200 OK [http://www.example.com/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('e1863f555db8891f6f752c5f9351e82c991e9fe5', 'a6bb5ea68c9a76c0cae066e2fd2bcd740213c021', NULL, '9d070904a22cd3a5d372d3c1e112a5edb551114b', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:27:01) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 9ms (View: 9, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: GET /session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:27:01) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 106ms (View: 106, DB: 0) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"wrongpassword", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:27:01) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering sessions/new (unauthorized)
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 11ms (View: 10, DB: 0) | 401 Unauthorized [http://www.example.com/session]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('e1863f555db8891f6f752c5f9351e82c991e9fe5', 'a6bb5ea68c9a76c0cae066e2fd2bcd740213c021', NULL, '9d070904a22cd3a5d372d3c1e112a5edb551114b', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:27:01) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: GET /session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:27:01) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 11ms (View: 11, DB: 0) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:27:01) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:27:01) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.4ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.1ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.6ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 14ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('e1863f555db8891f6f752c5f9351e82c991e9fe5', 'a6bb5ea68c9a76c0cae066e2fd2bcd740213c021', NULL, '9d070904a22cd3a5d372d3c1e112a5edb551114b', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:27:01) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 9ms (View: 9, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: GET /session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:27:01) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"1", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:27:01) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"1"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE "users" SET "token" = 'd6ce819a0f5feac32e241427030b42458ed9728b', "token_expires_at" = '2009-12-01 08:27:01' WHERE "id" = 2[0m
Redirected to http://www.example.com/
Completed in 210ms (DB: 1) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:27:02) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.0ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 14ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = 'd6ce819a0f5feac32e241427030b42458ed9728b') LIMIT 1[0m
REQUESTING PAGE: GET / with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:27:02) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.0ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.6ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 14ms (View: 10, DB: 2) | 200 OK [http://www.example.com/]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = 'd6ce819a0f5feac32e241427030b42458ed9728b') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('4f9c9028beeaea892e155013a20018320544d33a', '5b9383157b6832a32446325162ad936b4aaf8100', NULL, '43e422788ded89f9e38be186ed1f1a7e670a712e', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:27:02) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:27:02) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:27:02) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.1ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 14ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
REQUESTING PAGE: DELETE /session with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing Clearance::SessionsController#destroy (for 127.0.0.1 at 2009-11-17 15:27:02) [DELETE]
  Parameters: {"action"=>"destroy", "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE "users" SET "token" = NULL WHERE "id" = 2[0m
Redirected to http://www.example.com/session/new
Completed in 3ms (DB: 1) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:27:02) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://www.example.com/session/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('4f9c9028beeaea892e155013a20018320544d33a', '5b9383157b6832a32446325162ad936b4aaf8100', NULL, '43e422788ded89f9e38be186ed1f1a7e670a712e', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:27:02) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"1", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:27:02) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"1"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE "users" SET "token" = 'f6bf162992b256da277e8a3146bd99dcee697120', "token_expires_at" = '2009-12-01 08:27:02' WHERE "id" = 2[0m
Redirected to http://www.example.com/
Completed in 4ms (DB: 1) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:27:02) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.0ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.2ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 14ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = 'f6bf162992b256da277e8a3146bd99dcee697120') LIMIT 1[0m
REQUESTING PAGE: DELETE /session with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing Clearance::SessionsController#destroy (for 127.0.0.1 at 2009-11-17 15:27:02) [DELETE]
  Parameters: {"action"=>"destroy", "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."token" = 'f6bf162992b256da277e8a3146bd99dcee697120') LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE "users" SET "token" = NULL, "token_expires_at" = NULL WHERE "id" = 2[0m
Redirected to http://www.example.com/session/new
Completed in 3ms (DB: 1) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:27:02) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://www.example.com/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."token" = '') LIMIT 1[0m
REQUESTING PAGE: GET / with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/session/new"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:27:02) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.1ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
Rendered pages/_content_for_newsbar (5.8ms)
***************************************
tutor_link = /session/new
***************************************
Completed in 15ms (View: 12, DB: 2) | 200 OK [http://www.example.com/]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '') LIMIT 1[0m
REQUESTING PAGE: GET /users/new with {} and HTTP headers {}


Processing Clearance::UsersController#new (for 127.0.0.1 at 2009-11-17 15:27:02) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/users"}
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (6.8ms)
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 13ms (View: 11, DB: 0) | 200 OK [http://www.example.com/users/new]
REQUESTING PAGE: POST /users with {"user"=>{"language"=>"en", "password_confirmation"=>"", "password"=>"password", "email"=>"invalidemail"}, "commit"=>"Submit"} and HTTP headers {"HTTP_REFERER"=>"/users/new"}


Processing Clearance::UsersController#create (for 127.0.0.1 at 2009-11-17 15:27:02) [POST]
  Parameters: {"user"=>{"language"=>"en", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "email"=>"invalidemail"}, "commit"=>"Submit", "action"=>"create", "controller"=>"clearance/users"}
WARNING: Can't mass-assign these protected attributes: language
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'invalidemail') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (11.4ms)
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 17ms (View: 15, DB: 0) | 200 OK [http://www.example.com/users]
REQUESTING PAGE: GET /users/new with {} and HTTP headers {}


Processing Clearance::UsersController#new (for 127.0.0.1 at 2009-11-17 15:27:02) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/users"}
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (6.0ms)
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://www.example.com/users/new]
REQUESTING PAGE: POST /users with {"user"=>{"language"=>"en", "password_confirmation"=>"password", "password"=>"password", "email"=>"email@person.com"}, "commit"=>"Submit"} and HTTP headers {"HTTP_REFERER"=>"/users/new"}


Processing Clearance::UsersController#create (for 127.0.0.1 at 2009-11-17 15:27:02) [POST]
  Parameters: {"user"=>{"language"=>"en", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "email"=>"email@person.com"}, "commit"=>"Submit", "action"=>"create", "controller"=>"clearance/users"}
WARNING: Can't mass-assign these protected attributes: language
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('4f9c9028beeaea892e155013a20018320544d33a', '5b9383157b6832a32446325162ad936b4aaf8100', NULL, '43e422788ded89f9e38be186ed1f1a7e670a712e', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 'f')[0m
Sent mail to email@person.com

Date: Tue, 17 Nov 2009 15:27:02 +0700
From: donotreply@example.com
To: email@person.com
Subject: Account confirmation
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


http://localhost/users/2/confirmation/new?token=43e422788ded89f9e38be186ed1f1a7e670a712e
Redirected to http://www.example.com/session/new
Completed in 9ms (DB: 1) | 302 Found [http://www.example.com/users]
REQUESTING PAGE: GET http://www.example.com/session/new with {} and HTTP headers {"HTTP_REFERER"=>"/users"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:27:02) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://www.example.com/session/new]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('4f9c9028beeaea892e155013a20018320544d33a', '5b9383157b6832a32446325162ad936b4aaf8100', NULL, '43e422788ded89f9e38be186ed1f1a7e670a712e', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 'f')[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
REQUESTING PAGE: GET /users/2/confirmation/new?token=43e422788ded89f9e38be186ed1f1a7e670a712e with {} and HTTP headers {}


Processing Clearance::ConfirmationsController#new (for 127.0.0.1 at 2009-11-17 15:27:02) [GET]
  Parameters: {"token"=>"[FILTERED]", "action"=>"new", "controller"=>"clearance/confirmations", "user_id"=>"2"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '2') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."token" = '43e422788ded89f9e38be186ed1f1a7e670a712e' AND "users"."id" = '2') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '43e422788ded89f9e38be186ed1f1a7e670a712e' AND "users"."id" = '2') LIMIT 1[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE "users" SET "email_confirmed" = 't', "token" = NULL WHERE "id" = 2[0m
Redirected to http://www.example.com/
Completed in 7ms (DB: 3) | 302 Found [http://www.example.com/users/2/confirmation/new?token=43e422788ded89f9e38be186ed1f1a7e670a712e]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/users/2/confirmation/new?token=43e422788ded89f9e38be186ed1f1a7e670a712e"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:27:02) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.4ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.1ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.1ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 15ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
REQUESTING PAGE: GET / with {} and HTTP headers {}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:27:02) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.4ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.0ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
Rendered pages/_content_for_newsbar (5.0ms)
***************************************
tutor_link = /session/new
***************************************
Completed in 12ms (View: 9, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /session/new with {} and HTTP headers {"HTTP_REFERER"=>"/"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:27:02) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 11ms (View: 11, DB: 0) | 200 OK [http://www.example.com/session/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.5ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('4f9c9028beeaea892e155013a20018320544d33a', '5b9383157b6832a32446325162ad936b4aaf8100', NULL, '43e422788ded89f9e38be186ed1f1a7e670a712e', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE "users" SET "role" = 'null' WHERE "id" = 2[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mTutor Create (0.2ms)[0m   [0;1mINSERT INTO "tutors" ("textbook_experience", "updated_at", "photo_file_name", "photo_file_size", "course_experience", "qualifications", "photo_updated_at", "national_knowledge", "sex", "flavour", "given_name", "family_name", "photo_content_type", "phone", "given_name_first", "age", "address", "experience", "created_at") VALUES(NULL, '2009-11-17 08:27:02', NULL, NULL, NULL, NULL, NULL, NULL, 'm', NULL, 'Iain', 'Wood', NULL, NULL, 't', NULL, NULL, 'email@person.com''s private details', '2009-11-17 08:27:02')[0m
[paperclip] Saving attachments.
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE "users" SET "tutor_id" = 1 WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:27:02) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 9ms (View: 9, DB: 2) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:27:02) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:27:02) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.0ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 1
***************************************
***************************************
tutor_link = /tutors/1/edit
***************************************
Completed in 15ms (View: 12, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET / with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:27:02) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.4ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.0ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (99.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 1
***************************************
***************************************
tutor_link = /tutors/1/edit
***************************************
Completed in 108ms (View: 105, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /tutors/1/edit with {} and HTTP headers {"HTTP_REFERER"=>"/"}


Processing TutorsController#edit (for 127.0.0.1 at 2009-11-17 15:27:02) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mTutor Load (0.5ms)[0m   [0;1mSELECT * FROM "tutors" WHERE ("tutors"."id" = 1) [0m
Rendering template within layouts/application
Rendering tutors/edit
Rendered tutors/_tutor_form (10.0ms)
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 1
***************************************
***************************************
tutor_link = /tutors/1/edit
***************************************
Completed in 17ms (View: 15, DB: 1) | 200 OK [http://www.example.com/tutors/1/edit]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('4f9c9028beeaea892e155013a20018320544d33a', '5b9383157b6832a32446325162ad936b4aaf8100', NULL, '43e422788ded89f9e38be186ed1f1a7e670a712e', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE "users" SET "role" = 'admin' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:27:02) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 2) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:27:02) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:27:02) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.0ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.5ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 15ms (View: 12, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET / with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:27:02) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.4ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.1ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 15ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /tutors with {} and HTTP headers {"HTTP_REFERER"=>"/"}


Processing TutorsController#index (for 127.0.0.1 at 2009-11-17 15:27:03) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mTutor Load (0.5ms)[0m   [0mSELECT * FROM "tutors" ORDER BY family_name LIMIT 30 OFFSET 0[0m
Rendering template within layouts/application
Rendering tutors/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 6ms (View: 4, DB: 1) | 200 OK [http://www.example.com/tutors]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('290d1c84685ee89520d4d270b024427c590ddc03', 'f3383f79cb3c0d08a2fb2fbe72058d5ae7a91b59', NULL, 'b4a3d663b597b37286663c6b36cf4cbba35294bd', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE "users" SET "role" = 'null' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:37:14) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 51ms (View: 49, DB: 2) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:37:14) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:37:14) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.2ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (10.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 27ms (View: 19, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /newsitems/1 with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing NewsitemsController#show (for 127.0.0.1 at 2009-11-17 15:37:14) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mNewsitem Load (0.4ms)[0m   [0mSELECT * FROM "newsitems" WHERE ("newsitems"."id" = 1) [0m
Rendering template within layouts/application
Rendering newsitems/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 10ms (View: 6, DB: 1) | 200 OK [http://www.example.com/newsitems/1]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('3c280e4463910c5e767722819bc4e60a66549ebb', '0b70b3dfcc5c6ccfb2908b7534ffa87c5d730059', NULL, 'b09772b466983c62434129f2d350775d29298db7', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE "users" SET "role" = 'admin' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:37:14) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 10, DB: 2) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:37:14) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:37:14) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.1ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.1ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 15ms (View: 12, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /newsitems/1 with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing NewsitemsController#show (for 127.0.0.1 at 2009-11-17 15:37:14) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mNewsitem Load (0.4ms)[0m   [0mSELECT * FROM "newsitems" WHERE ("newsitems"."id" = 1) [0m
Rendering template within layouts/application
Rendering newsitems/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 8ms (View: 6, DB: 1) | 200 OK [http://www.example.com/newsitems/1]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('3c280e4463910c5e767722819bc4e60a66549ebb', '0b70b3dfcc5c6ccfb2908b7534ffa87c5d730059', NULL, 'b09772b466983c62434129f2d350775d29298db7', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE "users" SET "role" = 'null' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:37:14) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:37:14) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:37:14) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.4ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.0ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 14ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /newsitems with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing NewsitemsController#index (for 127.0.0.1 at 2009-11-17 15:37:14) [GET]
  [4;35;1mNewsitem Load (0.6ms)[0m   [0mSELECT * FROM "newsitems" [0m
Rendering template within layouts/application
Rendering newsitems/index
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 13ms (View: 11, DB: 1) | 200 OK [http://www.example.com/newsitems]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('3c280e4463910c5e767722819bc4e60a66549ebb', '0b70b3dfcc5c6ccfb2908b7534ffa87c5d730059', NULL, 'b09772b466983c62434129f2d350775d29298db7', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE "users" SET "role" = 'admin' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:37:14) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 10, DB: 2) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:37:14) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:37:14) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.4ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.1ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.2ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 15ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /newsitems with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing NewsitemsController#index (for 127.0.0.1 at 2009-11-17 15:37:14) [GET]
  [4;36;1mNewsitem Load (0.6ms)[0m   [0;1mSELECT * FROM "newsitems" [0m
Rendering template within layouts/application
Rendering newsitems/index
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 20ms (View: 17, DB: 1) | 200 OK [http://www.example.com/newsitems]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('3c280e4463910c5e767722819bc4e60a66549ebb', '0b70b3dfcc5c6ccfb2908b7534ffa87c5d730059', NULL, 'b09772b466983c62434129f2d350775d29298db7', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE "users" SET "role" = 'null' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:37:14) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:37:14) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:37:14) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.0ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 14ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /pages with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing PagesController#index (for 127.0.0.1 at 2009-11-17 15:37:14) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Redirected to http://www.example.com/
Filter chain halted as [:must_be_admin] rendered_or_redirected.
Completed in 1ms (DB: 0) | 302 Found [http://www.example.com/pages]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/pages"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:37:14) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.0ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.5ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 14ms (View: 10, DB: 2) | 200 OK [http://www.example.com/]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('3c280e4463910c5e767722819bc4e60a66549ebb', '0b70b3dfcc5c6ccfb2908b7534ffa87c5d730059', NULL, 'b09772b466983c62434129f2d350775d29298db7', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE "users" SET "role" = 'admin' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:37:14) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 10, DB: 2) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:37:14) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:37:14) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (2.2ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.5ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 16ms (View: 12, DB: 3) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /pages with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing PagesController#index (for 127.0.0.1 at 2009-11-17 15:37:14) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mPage Load (0.6ms)[0m   [0mSELECT * FROM "pages" [0m
Rendering template within layouts/application
Rendering pages/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 22ms (View: 19, DB: 1) | 200 OK [http://www.example.com/pages]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.5ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('3c280e4463910c5e767722819bc4e60a66549ebb', '0b70b3dfcc5c6ccfb2908b7534ffa87c5d730059', NULL, 'b09772b466983c62434129f2d350775d29298db7', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE "users" SET "role" = 'null' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:37:14) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 10, DB: 2) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:37:14) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:37:14) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.0ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.6ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 14ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET / with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:37:14) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.0ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 14ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('0d4a10bc85e5cce2b008765b4cc22c8c551a03e7', 'c77f4b452a8e7e748e818156dbd5ef3f9a972f60', NULL, '6fab739aedba68ac43cb5d6e13d1d642766625f3', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE "users" SET "role" = 'admin' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:37:15) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:37:15) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:37:15) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.1ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 14ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET / with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:37:15) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.0ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.4ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 14ms (View: 10, DB: 2) | 200 OK [http://www.example.com/]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('0d4a10bc85e5cce2b008765b4cc22c8c551a03e7', 'c77f4b452a8e7e748e818156dbd5ef3f9a972f60', NULL, '6fab739aedba68ac43cb5d6e13d1d642766625f3', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE "users" SET "role" = 'null' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:37:15) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:37:15) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:37:15) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.1ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 14ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /tutors with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing TutorsController#index (for 127.0.0.1 at 2009-11-17 15:37:15) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Redirected to http://www.example.com/
Filter chain halted as [:must_be_admin] rendered_or_redirected.
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/tutors]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/tutors"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:37:15) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.0ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.5ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 14ms (View: 10, DB: 2) | 200 OK [http://www.example.com/]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('0d4a10bc85e5cce2b008765b4cc22c8c551a03e7', 'c77f4b452a8e7e748e818156dbd5ef3f9a972f60', NULL, '6fab739aedba68ac43cb5d6e13d1d642766625f3', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE "users" SET "role" = 'admin' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:37:15) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 10, DB: 2) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:37:15) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:37:15) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (2.1ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.5ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 16ms (View: 12, DB: 3) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /tutors with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing TutorsController#index (for 127.0.0.1 at 2009-11-17 15:37:15) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mTutor Load (0.6ms)[0m   [0;1mSELECT * FROM "tutors" ORDER BY family_name LIMIT 30 OFFSET 0[0m
Rendering template within layouts/application
Rendering tutors/index
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 12ms (View: 6, DB: 1) | 200 OK [http://www.example.com/tutors]
REQUESTING PAGE: GET /tutors/1/edit with {} and HTTP headers {}


Processing TutorsController#edit (for 127.0.0.1 at 2009-11-17 15:37:15) [GET]
  Parameters: {"id"=>"1"}
Redirected to http://www.example.com/clearance/sessions/new
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/tutors/1/edit]
REQUESTING PAGE: GET http://www.example.com/clearance/sessions/new with {} and HTTP headers {"HTTP_REFERER"=>"/tutors/1/edit"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:37:15) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://www.example.com/clearance/sessions/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('0d4a10bc85e5cce2b008765b4cc22c8c551a03e7', 'c77f4b452a8e7e748e818156dbd5ef3f9a972f60', NULL, '6fab739aedba68ac43cb5d6e13d1d642766625f3', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:37:15) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:37:15) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 1) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:37:15) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.4ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.1ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.6ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 14ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('0d4a10bc85e5cce2b008765b4cc22c8c551a03e7', 'c77f4b452a8e7e748e818156dbd5ef3f9a972f60', NULL, '6fab739aedba68ac43cb5d6e13d1d642766625f3', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:37:15) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:37:15) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (1.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 3ms (DB: 1) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:37:15) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.4ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.5ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 15ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /tutors/new with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing TutorsController#new (for 127.0.0.1 at 2009-11-17 15:37:15) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/application
Rendering tutors/new
Rendered tutors/_tutor_form (13.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 23ms (View: 18, DB: 0) | 200 OK [http://www.example.com/tutors/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('0d4a10bc85e5cce2b008765b4cc22c8c551a03e7', 'c77f4b452a8e7e748e818156dbd5ef3f9a972f60', NULL, '6fab739aedba68ac43cb5d6e13d1d642766625f3', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mTutor Create (0.3ms)[0m   [0mINSERT INTO "tutors" ("textbook_experience", "updated_at", "photo_file_name", "photo_file_size", "course_experience", "qualifications", "photo_updated_at", "national_knowledge", "sex", "flavour", "given_name", "family_name", "photo_content_type", "phone", "given_name_first", "age", "address", "experience", "created_at") VALUES(NULL, '2009-11-17 08:37:15', NULL, NULL, NULL, NULL, NULL, NULL, 'm', NULL, 'Iain', 'Wood', NULL, NULL, 't', NULL, NULL, 'email@person.com''s private details', '2009-11-17 08:37:15')[0m
[paperclip] Saving attachments.
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mUser Update (0.6ms)[0m   [0mUPDATE "users" SET "tutor_id" = 1 WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:37:15) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 9, DB: 2) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:37:15) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:37:15) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.0ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 1
***************************************
***************************************
tutor_link = /tutors/1/edit
***************************************
Completed in 15ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /tutors/new with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing TutorsController#new (for 127.0.0.1 at 2009-11-17 15:37:15) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mTutor Load (0.4ms)[0m   [0mSELECT * FROM "tutors" WHERE ("tutors"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tutors" WHERE ("tutors"."id" = 1) [0m
Rendering template within layouts/application
Rendering tutors/new
Rendered tutors/_tutor_form (10.3ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 1
***************************************
***************************************
tutor_link = /tutors/1/edit
***************************************
Completed in 18ms (View: 15, DB: 1) | 200 OK [http://www.example.com/tutors/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
REQUESTING PAGE: GET /passwords/new with {} and HTTP headers {}


Processing Clearance::PasswordsController#new (for 127.0.0.1 at 2009-11-17 15:37:15) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/passwords"}
Rendering template within layouts/application
Rendering passwords/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 11ms (View: 9, DB: 0) | 200 OK [http://www.example.com/passwords/new]
REQUESTING PAGE: POST /passwords with {"commit"=>"Reset password", "password"=>{"email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/passwords/new"}


Processing Clearance::PasswordsController#create (for 127.0.0.1 at 2009-11-17 15:37:15) [POST]
  Parameters: {"commit"=>"Reset password", "action"=>"create", "controller"=>"clearance/passwords", "password"=>"[FILTERED]"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering passwords/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 9ms (View: 8, DB: 0) | 200 OK [http://www.example.com/passwords]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('0d4a10bc85e5cce2b008765b4cc22c8c551a03e7', 'c77f4b452a8e7e748e818156dbd5ef3f9a972f60', NULL, '6fab739aedba68ac43cb5d6e13d1d642766625f3', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 'f')[0m
REQUESTING PAGE: GET /passwords/new with {} and HTTP headers {}


Processing Clearance::PasswordsController#new (for 127.0.0.1 at 2009-11-17 15:37:15) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/passwords"}
Rendering template within layouts/application
Rendering passwords/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 8ms (View: 8, DB: 1) | 200 OK [http://www.example.com/passwords/new]
REQUESTING PAGE: POST /passwords with {"commit"=>"Reset password", "password"=>{"email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/passwords/new"}


Processing Clearance::PasswordsController#create (for 127.0.0.1 at 2009-11-17 15:37:15) [POST]
  Parameters: {"commit"=>"Reset password", "action"=>"create", "controller"=>"clearance/passwords", "password"=>"[FILTERED]"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE "users" SET "token" = '6c4d6ff7b6088b40dd5cedb27d6a3a33b482c830' WHERE "id" = 2[0m
Sent mail to email@person.com

Date: Tue, 17 Nov 2009 15:37:15 +0700
From: donotreply@example.com
To: email@person.com
Subject: Change your password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Someone, hopefully you, has requested that we send you a link to change your password.

Here's the link:

http://localhost/users/2/password/edit?token=6c4d6ff7b6088b40dd5cedb27d6a3a33b482c830

If you didn't request this, ignore this email. Don't worry. Your password hasn't been changed.
Redirected to http://www.example.com/session/new
Completed in 38ms (DB: 1) | 302 Found [http://www.example.com/passwords]
REQUESTING PAGE: GET http://www.example.com/session/new with {} and HTTP headers {"HTTP_REFERER"=>"/passwords"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:37:15) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 9ms (View: 9, DB: 0) | 200 OK [http://www.example.com/session/new]
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('0d4a10bc85e5cce2b008765b4cc22c8c551a03e7', 'c77f4b452a8e7e748e818156dbd5ef3f9a972f60', NULL, '6fab739aedba68ac43cb5d6e13d1d642766625f3', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 'f')[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
REQUESTING PAGE: GET /users/2/password/edit?token=6fab739aedba68ac43cb5d6e13d1d642766625f3 with {} and HTTP headers {}


Processing Clearance::PasswordsController#edit (for 127.0.0.1 at 2009-11-17 15:37:15) [GET]
  Parameters: {"token"=>"6fab739aedba68ac43cb5d6e13d1d642766625f3", "action"=>"edit", "controller"=>"clearance/passwords", "user_id"=>"2"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."token" = '6fab739aedba68ac43cb5d6e13d1d642766625f3' AND "users"."id" = '2') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '6fab739aedba68ac43cb5d6e13d1d642766625f3' AND "users"."id" = '2') LIMIT 1[0m
Rendering template within layouts/application
Rendering passwords/edit
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 13ms (View: 11, DB: 2) | 200 OK [http://www.example.com/users/2/password/edit?token=6fab739aedba68ac43cb5d6e13d1d642766625f3]
REQUESTING PAGE: POST /users/2/password?token=6fab739aedba68ac43cb5d6e13d1d642766625f3 with {"user"=>{"password_confirmation"=>"wrongconfirmation", "password"=>"newpassword"}, "commit"=>"Save this password", "_method"=>"put"} and HTTP headers {"HTTP_REFERER"=>"/users/2/password/edit?token=6fab739aedba68ac43cb5d6e13d1d642766625f3"}


Processing Clearance::PasswordsController#update (for 127.0.0.1 at 2009-11-17 15:37:16) [PUT]
  Parameters: {"user"=>{"password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Save this password", "token"=>"6fab739aedba68ac43cb5d6e13d1d642766625f3", "action"=>"update", "_method"=>"put", "controller"=>"clearance/passwords", "user_id"=>"2"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."token" = '6fab739aedba68ac43cb5d6e13d1d642766625f3' AND "users"."id" = '2') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '6fab739aedba68ac43cb5d6e13d1d642766625f3' AND "users"."id" = '2') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering passwords/edit
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 19ms (View: 15, DB: 1) | 200 OK [http://www.example.com/users/2/password?token=6fab739aedba68ac43cb5d6e13d1d642766625f3]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('1158f800e88c95ef8188e8bb2ba622089fe2d36c', 'e83152abed98065b5e20aec32ef81a38599d500e', NULL, '78aad15f519b21e1192ab7ddb68c1bf839dd2064', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 'f')[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
REQUESTING PAGE: GET /users/2/password/edit?token=78aad15f519b21e1192ab7ddb68c1bf839dd2064 with {} and HTTP headers {}


Processing Clearance::PasswordsController#edit (for 127.0.0.1 at 2009-11-17 15:37:16) [GET]
  Parameters: {"token"=>"78aad15f519b21e1192ab7ddb68c1bf839dd2064", "action"=>"edit", "controller"=>"clearance/passwords", "user_id"=>"2"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '78aad15f519b21e1192ab7ddb68c1bf839dd2064' AND "users"."id" = '2') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."token" = '78aad15f519b21e1192ab7ddb68c1bf839dd2064' AND "users"."id" = '2') LIMIT 1[0m
Rendering template within layouts/application
Rendering passwords/edit
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 13ms (View: 11, DB: 1) | 200 OK [http://www.example.com/users/2/password/edit?token=78aad15f519b21e1192ab7ddb68c1bf839dd2064]
REQUESTING PAGE: POST /users/2/password?token=78aad15f519b21e1192ab7ddb68c1bf839dd2064 with {"user"=>{"password_confirmation"=>"newpassword", "password"=>"newpassword"}, "commit"=>"Save this password", "_method"=>"put"} and HTTP headers {"HTTP_REFERER"=>"/users/2/password/edit?token=78aad15f519b21e1192ab7ddb68c1bf839dd2064"}


Processing Clearance::PasswordsController#update (for 127.0.0.1 at 2009-11-17 15:37:16) [PUT]
  Parameters: {"user"=>{"password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Save this password", "token"=>"78aad15f519b21e1192ab7ddb68c1bf839dd2064", "action"=>"update", "_method"=>"put", "controller"=>"clearance/passwords", "user_id"=>"2"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '78aad15f519b21e1192ab7ddb68c1bf839dd2064' AND "users"."id" = '2') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."token" = '78aad15f519b21e1192ab7ddb68c1bf839dd2064' AND "users"."id" = '2') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE "users" SET "token" = NULL, "encrypted_password" = '64106019a6a5b50d1b6730b91b97a19091224b6b' WHERE "id" = 2[0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE "users" SET "email_confirmed" = 't' WHERE "id" = 2[0m
Redirected to http://www.example.com/
Completed in 8ms (DB: 1) | 302 Found [http://www.example.com/users/2/password?token=78aad15f519b21e1192ab7ddb68c1bf839dd2064]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/users/2/password?token=78aad15f519b21e1192ab7ddb68c1bf839dd2064"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:37:16) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.4ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.1ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.2ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 15ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
REQUESTING PAGE: DELETE /session with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing Clearance::SessionsController#destroy (for 127.0.0.1 at 2009-11-17 15:37:16) [DELETE]
  Parameters: {"action"=>"destroy", "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
Redirected to http://www.example.com/session/new
Completed in 3ms (DB: 1) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:37:16) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://www.example.com/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."token" = '') LIMIT 1[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/session/new"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:37:16) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"newpassword", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:37:16) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 1) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:37:16) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.1ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.4ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 104ms (View: 101, DB: 2) | 200 OK [http://www.example.com/]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:37:16) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: GET /session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:37:16) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:37:16) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering sessions/new (unauthorized)
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 11ms (View: 10, DB: 0) | 401 Unauthorized [http://www.example.com/session]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('1158f800e88c95ef8188e8bb2ba622089fe2d36c', 'e83152abed98065b5e20aec32ef81a38599d500e', NULL, '78aad15f519b21e1192ab7ddb68c1bf839dd2064', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 'f')[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:37:16) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 9, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: GET /session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:37:16) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:37:16) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Sent mail to email@person.com

Date: Tue, 17 Nov 2009 15:37:16 +0700
From: donotreply@example.com
To: email@person.com
Subject: Account confirmation
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


http://localhost/users/2/confirmation/new?token=78aad15f519b21e1192ab7ddb68c1bf839dd2064
Redirected to http://www.example.com/session/new
Completed in 5ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:37:16) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://www.example.com/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('1158f800e88c95ef8188e8bb2ba622089fe2d36c', 'e83152abed98065b5e20aec32ef81a38599d500e', NULL, '78aad15f519b21e1192ab7ddb68c1bf839dd2064', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:37:16) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 9ms (View: 9, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: GET /session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:37:16) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"wrongpassword", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:37:16) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering sessions/new (unauthorized)
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 12ms (View: 10, DB: 1) | 401 Unauthorized [http://www.example.com/session]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('1158f800e88c95ef8188e8bb2ba622089fe2d36c', 'e83152abed98065b5e20aec32ef81a38599d500e', NULL, '78aad15f519b21e1192ab7ddb68c1bf839dd2064', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:37:16) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: GET /session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:37:16) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 11ms (View: 11, DB: 0) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:37:16) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 1) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:37:16) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.0ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.6ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 14ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('1158f800e88c95ef8188e8bb2ba622089fe2d36c', 'e83152abed98065b5e20aec32ef81a38599d500e', NULL, '78aad15f519b21e1192ab7ddb68c1bf839dd2064', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:37:16) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 9ms (View: 9, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: GET /session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:37:16) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"1", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:37:16) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"1"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Update (0.6ms)[0m   [0;1mUPDATE "users" SET "token" = '7328be26477f14762e127ef8403f5885550ddc2b', "token_expires_at" = '2009-12-01 08:37:16' WHERE "id" = 2[0m
Redirected to http://www.example.com/
Completed in 112ms (DB: 1) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:37:16) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.4ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.0ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.1ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 15ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '7328be26477f14762e127ef8403f5885550ddc2b') LIMIT 1[0m
REQUESTING PAGE: GET / with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:37:16) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.0ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 14ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '7328be26477f14762e127ef8403f5885550ddc2b') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('1158f800e88c95ef8188e8bb2ba622089fe2d36c', 'e83152abed98065b5e20aec32ef81a38599d500e', NULL, '78aad15f519b21e1192ab7ddb68c1bf839dd2064', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:37:16) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:37:16) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:37:16) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.1ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 16ms (View: 13, DB: 2) | 200 OK [http://www.example.com/]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
REQUESTING PAGE: DELETE /session with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing Clearance::SessionsController#destroy (for 127.0.0.1 at 2009-11-17 15:37:16) [DELETE]
  Parameters: {"action"=>"destroy", "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE "users" SET "token" = NULL WHERE "id" = 2[0m
Redirected to http://www.example.com/session/new
Completed in 3ms (DB: 1) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:37:16) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://www.example.com/session/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('88a45bed4d721f7016d50e342e053e68d3b06cf7', '7011f7faac2b84567bdf4bdbd450f3b0bcf989fa', NULL, '6a55a13016f0e83f98e945754f9919dee4da8819', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:37:17) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"1", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:37:17) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"1"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE "users" SET "token" = 'cdb679d0643745ee1bb37980c902074e55df2a1a', "token_expires_at" = '2009-12-01 08:37:17' WHERE "id" = 2[0m
Redirected to http://www.example.com/
Completed in 4ms (DB: 1) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:37:17) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.0ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.2ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 15ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = 'cdb679d0643745ee1bb37980c902074e55df2a1a') LIMIT 1[0m
REQUESTING PAGE: DELETE /session with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing Clearance::SessionsController#destroy (for 127.0.0.1 at 2009-11-17 15:37:17) [DELETE]
  Parameters: {"action"=>"destroy", "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."token" = 'cdb679d0643745ee1bb37980c902074e55df2a1a') LIMIT 1[0m
  [4;36;1mUser Update (0.3ms)[0m   [0;1mUPDATE "users" SET "token" = NULL, "token_expires_at" = NULL WHERE "id" = 2[0m
Redirected to http://www.example.com/session/new
Completed in 3ms (DB: 1) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:37:17) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://www.example.com/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."token" = '') LIMIT 1[0m
REQUESTING PAGE: GET / with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/session/new"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:37:17) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.1ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
Rendered pages/_content_for_newsbar (5.1ms)
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 14ms (View: 10, DB: 2) | 200 OK [http://www.example.com/]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '') LIMIT 1[0m
REQUESTING PAGE: GET /users/new with {} and HTTP headers {}


Processing Clearance::UsersController#new (for 127.0.0.1 at 2009-11-17 15:37:17) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/users"}
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (7.2ms)
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 14ms (View: 11, DB: 0) | 200 OK [http://www.example.com/users/new]
REQUESTING PAGE: POST /users with {"user"=>{"language"=>"en", "password_confirmation"=>"", "password"=>"password", "email"=>"invalidemail"}, "commit"=>"Submit"} and HTTP headers {"HTTP_REFERER"=>"/users/new"}


Processing Clearance::UsersController#create (for 127.0.0.1 at 2009-11-17 15:37:17) [POST]
  Parameters: {"user"=>{"language"=>"en", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "email"=>"invalidemail"}, "commit"=>"Submit", "action"=>"create", "controller"=>"clearance/users"}
WARNING: Can't mass-assign these protected attributes: language
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'invalidemail') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (11.4ms)
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 17ms (View: 15, DB: 0) | 200 OK [http://www.example.com/users]
REQUESTING PAGE: GET /users/new with {} and HTTP headers {}


Processing Clearance::UsersController#new (for 127.0.0.1 at 2009-11-17 15:37:17) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/users"}
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (6.1ms)
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://www.example.com/users/new]
REQUESTING PAGE: POST /users with {"user"=>{"language"=>"en", "password_confirmation"=>"password", "password"=>"password", "email"=>"email@person.com"}, "commit"=>"Submit"} and HTTP headers {"HTTP_REFERER"=>"/users/new"}


Processing Clearance::UsersController#create (for 127.0.0.1 at 2009-11-17 15:37:17) [POST]
  Parameters: {"user"=>{"language"=>"en", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "email"=>"email@person.com"}, "commit"=>"Submit", "action"=>"create", "controller"=>"clearance/users"}
WARNING: Can't mass-assign these protected attributes: language
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('88a45bed4d721f7016d50e342e053e68d3b06cf7', '7011f7faac2b84567bdf4bdbd450f3b0bcf989fa', NULL, '6a55a13016f0e83f98e945754f9919dee4da8819', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 'f')[0m
Sent mail to email@person.com

Date: Tue, 17 Nov 2009 15:37:17 +0700
From: donotreply@example.com
To: email@person.com
Subject: Account confirmation
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


http://localhost/users/2/confirmation/new?token=6a55a13016f0e83f98e945754f9919dee4da8819
Redirected to http://www.example.com/session/new
Completed in 8ms (DB: 1) | 302 Found [http://www.example.com/users]
REQUESTING PAGE: GET http://www.example.com/session/new with {} and HTTP headers {"HTTP_REFERER"=>"/users"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:37:17) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://www.example.com/session/new]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('88a45bed4d721f7016d50e342e053e68d3b06cf7', '7011f7faac2b84567bdf4bdbd450f3b0bcf989fa', NULL, '6a55a13016f0e83f98e945754f9919dee4da8819', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 'f')[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
REQUESTING PAGE: GET /users/2/confirmation/new?token=6a55a13016f0e83f98e945754f9919dee4da8819 with {} and HTTP headers {}


Processing Clearance::ConfirmationsController#new (for 127.0.0.1 at 2009-11-17 15:37:17) [GET]
  Parameters: {"token"=>"[FILTERED]", "action"=>"new", "controller"=>"clearance/confirmations", "user_id"=>"2"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '2') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."token" = '6a55a13016f0e83f98e945754f9919dee4da8819' AND "users"."id" = '2') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '6a55a13016f0e83f98e945754f9919dee4da8819' AND "users"."id" = '2') LIMIT 1[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE "users" SET "email_confirmed" = 't', "token" = NULL WHERE "id" = 2[0m
Redirected to http://www.example.com/
Completed in 7ms (DB: 3) | 302 Found [http://www.example.com/users/2/confirmation/new?token=6a55a13016f0e83f98e945754f9919dee4da8819]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/users/2/confirmation/new?token=6a55a13016f0e83f98e945754f9919dee4da8819"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:37:17) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.0ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 15ms (View: 12, DB: 2) | 200 OK [http://www.example.com/]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
REQUESTING PAGE: GET / with {} and HTTP headers {}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:37:17) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.4ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.0ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
Rendered pages/_content_for_newsbar (4.8ms)
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 12ms (View: 9, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /clearance/sessions/new with {} and HTTP headers {"HTTP_REFERER"=>"/"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:37:17) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://www.example.com/clearance/sessions/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('88a45bed4d721f7016d50e342e053e68d3b06cf7', '7011f7faac2b84567bdf4bdbd450f3b0bcf989fa', NULL, '6a55a13016f0e83f98e945754f9919dee4da8819', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE "users" SET "role" = 'null' WHERE "id" = 2[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mTutor Create (0.2ms)[0m   [0;1mINSERT INTO "tutors" ("textbook_experience", "updated_at", "photo_file_name", "photo_file_size", "course_experience", "qualifications", "photo_updated_at", "national_knowledge", "sex", "flavour", "given_name", "family_name", "photo_content_type", "phone", "given_name_first", "age", "address", "experience", "created_at") VALUES(NULL, '2009-11-17 08:37:17', NULL, NULL, NULL, NULL, NULL, NULL, 'm', NULL, 'Iain', 'Wood', NULL, NULL, 't', NULL, NULL, 'email@person.com''s private details', '2009-11-17 08:37:17')[0m
[paperclip] Saving attachments.
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE "users" SET "tutor_id" = 1 WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:37:17) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 9ms (View: 9, DB: 2) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:37:17) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:37:17) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.1ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.4ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 1
***************************************
***************************************
tutor_link = /tutors/1/edit
***************************************
Completed in 14ms (View: 10, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET / with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:37:17) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.0ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (100.3ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 1
***************************************
***************************************
tutor_link = /tutors/1/edit
***************************************
Completed in 109ms (View: 105, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /tutors/1/edit with {} and HTTP headers {"HTTP_REFERER"=>"/"}


Processing TutorsController#edit (for 127.0.0.1 at 2009-11-17 15:37:17) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mTutor Load (0.5ms)[0m   [0;1mSELECT * FROM "tutors" WHERE ("tutors"."id" = 1) [0m
Rendering template within layouts/application
Rendering tutors/edit
Rendered tutors/_tutor_form (10.1ms)
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 1
***************************************
***************************************
tutor_link = /tutors/1/edit
***************************************
Completed in 17ms (View: 15, DB: 1) | 200 OK [http://www.example.com/tutors/1/edit]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('88a45bed4d721f7016d50e342e053e68d3b06cf7', '7011f7faac2b84567bdf4bdbd450f3b0bcf989fa', NULL, '6a55a13016f0e83f98e945754f9919dee4da8819', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE "users" SET "role" = 'admin' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:37:17) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 10, DB: 2) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:37:17) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:37:17) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (2.3ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.4ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 17ms (View: 12, DB: 3) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET / with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:37:17) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.4ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.0ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 15ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /tutors with {} and HTTP headers {"HTTP_REFERER"=>"/"}


Processing TutorsController#index (for 127.0.0.1 at 2009-11-17 15:37:17) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mTutor Load (0.5ms)[0m   [0mSELECT * FROM "tutors" ORDER BY family_name LIMIT 30 OFFSET 0[0m
Rendering template within layouts/application
Rendering tutors/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 6ms (View: 4, DB: 1) | 200 OK [http://www.example.com/tutors]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('91b9b267b5cd64847ab09f5369c9e3eeaaedcbd7', '4ccb24f4748f690b65fe03b8a06a6aa6d5b131ef', NULL, 'b3e0519fe3d4a09a1c3a031487d140e33e30d203', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE "users" SET "role" = 'null' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:44:23) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 51ms (View: 49, DB: 2) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:44:23) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:44:23) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.1ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (11.1ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 27ms (View: 19, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /newsitems/1 with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing NewsitemsController#show (for 127.0.0.1 at 2009-11-17 15:44:23) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mNewsitem Load (0.4ms)[0m   [0mSELECT * FROM "newsitems" WHERE ("newsitems"."id" = 1) [0m
Rendering template within layouts/application
Rendering newsitems/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 10ms (View: 6, DB: 1) | 200 OK [http://www.example.com/newsitems/1]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('91b9b267b5cd64847ab09f5369c9e3eeaaedcbd7', '4ccb24f4748f690b65fe03b8a06a6aa6d5b131ef', NULL, 'b3e0519fe3d4a09a1c3a031487d140e33e30d203', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE "users" SET "role" = 'admin' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:44:23) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 11ms (View: 11, DB: 2) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:44:23) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:44:23) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.4ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.1ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.2ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 15ms (View: 12, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /newsitems/1 with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing NewsitemsController#show (for 127.0.0.1 at 2009-11-17 15:44:23) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mNewsitem Load (0.4ms)[0m   [0mSELECT * FROM "newsitems" WHERE ("newsitems"."id" = 1) [0m
Rendering template within layouts/application
Rendering newsitems/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 8ms (View: 6, DB: 1) | 200 OK [http://www.example.com/newsitems/1]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('91b9b267b5cd64847ab09f5369c9e3eeaaedcbd7', '4ccb24f4748f690b65fe03b8a06a6aa6d5b131ef', NULL, 'b3e0519fe3d4a09a1c3a031487d140e33e30d203', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE "users" SET "role" = 'null' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:44:23) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:44:23) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:44:23) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.1ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 14ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /newsitems with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing NewsitemsController#index (for 127.0.0.1 at 2009-11-17 15:44:23) [GET]
  [4;35;1mNewsitem Load (0.6ms)[0m   [0mSELECT * FROM "newsitems" [0m
Rendering template within layouts/application
Rendering newsitems/index
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 13ms (View: 11, DB: 1) | 200 OK [http://www.example.com/newsitems]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('91b9b267b5cd64847ab09f5369c9e3eeaaedcbd7', '4ccb24f4748f690b65fe03b8a06a6aa6d5b131ef', NULL, 'b3e0519fe3d4a09a1c3a031487d140e33e30d203', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE "users" SET "role" = 'admin' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:44:23) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:44:23) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:44:23) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.0ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 14ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /newsitems with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing NewsitemsController#index (for 127.0.0.1 at 2009-11-17 15:44:23) [GET]
  [4;36;1mNewsitem Load (0.6ms)[0m   [0;1mSELECT * FROM "newsitems" [0m
Rendering template within layouts/application
Rendering newsitems/index
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 20ms (View: 18, DB: 1) | 200 OK [http://www.example.com/newsitems]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('91b9b267b5cd64847ab09f5369c9e3eeaaedcbd7', '4ccb24f4748f690b65fe03b8a06a6aa6d5b131ef', NULL, 'b3e0519fe3d4a09a1c3a031487d140e33e30d203', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE "users" SET "role" = 'null' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:44:24) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:44:24) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:44:24) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.0ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.5ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 14ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /pages with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing PagesController#index (for 127.0.0.1 at 2009-11-17 15:44:24) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Redirected to http://www.example.com/
Filter chain halted as [:must_be_admin] rendered_or_redirected.
Completed in 1ms (DB: 0) | 302 Found [http://www.example.com/pages]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/pages"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:44:24) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.0ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 14ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('3b3842e2d88dfce9bc7f0a5746abf6a8a5bbb71b', 'd8ec447da7f263e4db5539048e3625798c4a21bd', NULL, '1d77919013e2b5f31a2d32bab6dca8a1d6cf9c34', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE "users" SET "role" = 'admin' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:44:24) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 10ms (View: 9, DB: 2) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:44:24) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:44:24) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.1ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.3ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 16ms (View: 12, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /pages with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing PagesController#index (for 127.0.0.1 at 2009-11-17 15:44:24) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mPage Load (0.6ms)[0m   [0mSELECT * FROM "pages" [0m
Rendering template within layouts/application
Rendering pages/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 22ms (View: 20, DB: 1) | 200 OK [http://www.example.com/pages]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('3b3842e2d88dfce9bc7f0a5746abf6a8a5bbb71b', 'd8ec447da7f263e4db5539048e3625798c4a21bd', NULL, '1d77919013e2b5f31a2d32bab6dca8a1d6cf9c34', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE "users" SET "role" = 'null' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:44:24) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 2) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:44:24) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:44:24) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.0ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 14ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET / with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:44:24) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.4ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.0ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 14ms (View: 10, DB: 2) | 200 OK [http://www.example.com/]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('3b3842e2d88dfce9bc7f0a5746abf6a8a5bbb71b', 'd8ec447da7f263e4db5539048e3625798c4a21bd', NULL, '1d77919013e2b5f31a2d32bab6dca8a1d6cf9c34', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE "users" SET "role" = 'admin' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:44:24) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 11ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:44:24) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 1) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:44:24) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.1ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 15ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET / with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:44:24) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.0ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.4ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 13ms (View: 10, DB: 2) | 200 OK [http://www.example.com/]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('3b3842e2d88dfce9bc7f0a5746abf6a8a5bbb71b', 'd8ec447da7f263e4db5539048e3625798c4a21bd', NULL, '1d77919013e2b5f31a2d32bab6dca8a1d6cf9c34', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE "users" SET "role" = 'null' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:44:24) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:44:24) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:44:24) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.0ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 15ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /tutors with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing TutorsController#index (for 127.0.0.1 at 2009-11-17 15:44:24) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Redirected to http://www.example.com/
Filter chain halted as [:must_be_admin] rendered_or_redirected.
Completed in 1ms (DB: 0) | 302 Found [http://www.example.com/tutors]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/tutors"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:44:24) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.0ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.5ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 14ms (View: 10, DB: 2) | 200 OK [http://www.example.com/]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('3b3842e2d88dfce9bc7f0a5746abf6a8a5bbb71b', 'd8ec447da7f263e4db5539048e3625798c4a21bd', NULL, '1d77919013e2b5f31a2d32bab6dca8a1d6cf9c34', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE "users" SET "role" = 'admin' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:44:24) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 2) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:44:24) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:44:24) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (2.3ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.4ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 17ms (View: 12, DB: 3) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /tutors with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing TutorsController#index (for 127.0.0.1 at 2009-11-17 15:44:24) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mTutor Load (0.6ms)[0m   [0;1mSELECT * FROM "tutors" ORDER BY family_name LIMIT 30 OFFSET 0[0m
Rendering template within layouts/application
Rendering tutors/index
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 11ms (View: 6, DB: 1) | 200 OK [http://www.example.com/tutors]
REQUESTING PAGE: GET /tutors/1/edit with {} and HTTP headers {}


Processing TutorsController#edit (for 127.0.0.1 at 2009-11-17 15:44:24) [GET]
  Parameters: {"id"=>"1"}
Redirected to http://www.example.com/clearance/sessions/new
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/tutors/1/edit]
REQUESTING PAGE: GET http://www.example.com/clearance/sessions/new with {} and HTTP headers {"HTTP_REFERER"=>"/tutors/1/edit"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:44:24) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 11ms (View: 11, DB: 0) | 200 OK [http://www.example.com/clearance/sessions/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('3b3842e2d88dfce9bc7f0a5746abf6a8a5bbb71b', 'd8ec447da7f263e4db5539048e3625798c4a21bd', NULL, '1d77919013e2b5f31a2d32bab6dca8a1d6cf9c34', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:44:24) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:44:24) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 3ms (DB: 1) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:44:24) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.4ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.2ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.6ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 14ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('3b3842e2d88dfce9bc7f0a5746abf6a8a5bbb71b', 'd8ec447da7f263e4db5539048e3625798c4a21bd', NULL, '1d77919013e2b5f31a2d32bab6dca8a1d6cf9c34', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:44:24) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:44:24) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 1) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:44:24) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.4ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.2ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 15ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /tutors/new with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing TutorsController#new (for 127.0.0.1 at 2009-11-17 15:44:25) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/application
Rendering tutors/new
Rendered tutors/_tutor_form (13.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 23ms (View: 18, DB: 0) | 200 OK [http://www.example.com/tutors/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('d29020da4a50babe61bb4246ce00c517c9aab217', '51b7a98fb178cacc42272d245178ef5a90e0782b', NULL, '1bad4ecdf4065a569f6cd87cc0dc7886f05c452f', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mTutor Create (0.2ms)[0m   [0mINSERT INTO "tutors" ("textbook_experience", "updated_at", "photo_file_name", "photo_file_size", "course_experience", "qualifications", "photo_updated_at", "national_knowledge", "sex", "flavour", "given_name", "family_name", "photo_content_type", "phone", "given_name_first", "age", "address", "experience", "created_at") VALUES(NULL, '2009-11-17 08:44:25', NULL, NULL, NULL, NULL, NULL, NULL, 'm', NULL, 'Iain', 'Wood', NULL, NULL, 't', NULL, NULL, 'email@person.com''s private details', '2009-11-17 08:44:25')[0m
[paperclip] Saving attachments.
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE "users" SET "tutor_id" = 1 WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:44:25) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 9ms (View: 9, DB: 2) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:44:25) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:44:25) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.0ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 1
***************************************
***************************************
tutor_link = /tutors/1/edit
***************************************
Completed in 15ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /tutors/new with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing TutorsController#new (for 127.0.0.1 at 2009-11-17 15:44:25) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mTutor Load (0.4ms)[0m   [0mSELECT * FROM "tutors" WHERE ("tutors"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tutors" WHERE ("tutors"."id" = 1) [0m
Rendering template within layouts/application
Rendering tutors/new
Rendered tutors/_tutor_form (10.4ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 1
***************************************
***************************************
tutor_link = /tutors/1/edit
***************************************
Completed in 18ms (View: 15, DB: 1) | 200 OK [http://www.example.com/tutors/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
REQUESTING PAGE: GET /passwords/new with {} and HTTP headers {}


Processing Clearance::PasswordsController#new (for 127.0.0.1 at 2009-11-17 15:44:25) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/passwords"}
Rendering template within layouts/application
Rendering passwords/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 12ms (View: 9, DB: 0) | 200 OK [http://www.example.com/passwords/new]
REQUESTING PAGE: POST /passwords with {"commit"=>"Reset password", "password"=>{"email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/passwords/new"}


Processing Clearance::PasswordsController#create (for 127.0.0.1 at 2009-11-17 15:44:25) [POST]
  Parameters: {"commit"=>"Reset password", "action"=>"create", "controller"=>"clearance/passwords", "password"=>"[FILTERED]"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering passwords/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 9ms (View: 8, DB: 0) | 200 OK [http://www.example.com/passwords]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('d29020da4a50babe61bb4246ce00c517c9aab217', '51b7a98fb178cacc42272d245178ef5a90e0782b', NULL, '1bad4ecdf4065a569f6cd87cc0dc7886f05c452f', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 'f')[0m
REQUESTING PAGE: GET /passwords/new with {} and HTTP headers {}


Processing Clearance::PasswordsController#new (for 127.0.0.1 at 2009-11-17 15:44:25) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/passwords"}
Rendering template within layouts/application
Rendering passwords/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 8ms (View: 8, DB: 1) | 200 OK [http://www.example.com/passwords/new]
REQUESTING PAGE: POST /passwords with {"commit"=>"Reset password", "password"=>{"email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/passwords/new"}


Processing Clearance::PasswordsController#create (for 127.0.0.1 at 2009-11-17 15:44:25) [POST]
  Parameters: {"commit"=>"Reset password", "action"=>"create", "controller"=>"clearance/passwords", "password"=>"[FILTERED]"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE "users" SET "token" = '04efc84946a64f6712633a4f497f5e2c0c8ac2ce' WHERE "id" = 2[0m
Sent mail to email@person.com

Date: Tue, 17 Nov 2009 15:44:25 +0700
From: donotreply@example.com
To: email@person.com
Subject: Change your password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Someone, hopefully you, has requested that we send you a link to change your password.

Here's the link:

http://localhost/users/2/password/edit?token=04efc84946a64f6712633a4f497f5e2c0c8ac2ce

If you didn't request this, ignore this email. Don't worry. Your password hasn't been changed.
Redirected to http://www.example.com/session/new
Completed in 39ms (DB: 1) | 302 Found [http://www.example.com/passwords]
REQUESTING PAGE: GET http://www.example.com/session/new with {} and HTTP headers {"HTTP_REFERER"=>"/passwords"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:44:25) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 9ms (View: 9, DB: 0) | 200 OK [http://www.example.com/session/new]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('d29020da4a50babe61bb4246ce00c517c9aab217', '51b7a98fb178cacc42272d245178ef5a90e0782b', NULL, '1bad4ecdf4065a569f6cd87cc0dc7886f05c452f', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 'f')[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
REQUESTING PAGE: GET /users/2/password/edit?token=1bad4ecdf4065a569f6cd87cc0dc7886f05c452f with {} and HTTP headers {}


Processing Clearance::PasswordsController#edit (for 127.0.0.1 at 2009-11-17 15:44:25) [GET]
  Parameters: {"token"=>"1bad4ecdf4065a569f6cd87cc0dc7886f05c452f", "action"=>"edit", "controller"=>"clearance/passwords", "user_id"=>"2"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."token" = '1bad4ecdf4065a569f6cd87cc0dc7886f05c452f' AND "users"."id" = '2') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '1bad4ecdf4065a569f6cd87cc0dc7886f05c452f' AND "users"."id" = '2') LIMIT 1[0m
Rendering template within layouts/application
Rendering passwords/edit
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 108ms (View: 106, DB: 2) | 200 OK [http://www.example.com/users/2/password/edit?token=1bad4ecdf4065a569f6cd87cc0dc7886f05c452f]
REQUESTING PAGE: POST /users/2/password?token=1bad4ecdf4065a569f6cd87cc0dc7886f05c452f with {"user"=>{"password_confirmation"=>"wrongconfirmation", "password"=>"newpassword"}, "commit"=>"Save this password", "_method"=>"put"} and HTTP headers {"HTTP_REFERER"=>"/users/2/password/edit?token=1bad4ecdf4065a569f6cd87cc0dc7886f05c452f"}


Processing Clearance::PasswordsController#update (for 127.0.0.1 at 2009-11-17 15:44:25) [PUT]
  Parameters: {"user"=>{"password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Save this password", "token"=>"1bad4ecdf4065a569f6cd87cc0dc7886f05c452f", "action"=>"update", "_method"=>"put", "controller"=>"clearance/passwords", "user_id"=>"2"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."token" = '1bad4ecdf4065a569f6cd87cc0dc7886f05c452f' AND "users"."id" = '2') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '1bad4ecdf4065a569f6cd87cc0dc7886f05c452f' AND "users"."id" = '2') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering passwords/edit
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 19ms (View: 15, DB: 1) | 200 OK [http://www.example.com/users/2/password?token=1bad4ecdf4065a569f6cd87cc0dc7886f05c452f]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('d29020da4a50babe61bb4246ce00c517c9aab217', '51b7a98fb178cacc42272d245178ef5a90e0782b', NULL, '1bad4ecdf4065a569f6cd87cc0dc7886f05c452f', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 'f')[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
REQUESTING PAGE: GET /users/2/password/edit?token=1bad4ecdf4065a569f6cd87cc0dc7886f05c452f with {} and HTTP headers {}


Processing Clearance::PasswordsController#edit (for 127.0.0.1 at 2009-11-17 15:44:25) [GET]
  Parameters: {"token"=>"1bad4ecdf4065a569f6cd87cc0dc7886f05c452f", "action"=>"edit", "controller"=>"clearance/passwords", "user_id"=>"2"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '1bad4ecdf4065a569f6cd87cc0dc7886f05c452f' AND "users"."id" = '2') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."token" = '1bad4ecdf4065a569f6cd87cc0dc7886f05c452f' AND "users"."id" = '2') LIMIT 1[0m
Rendering template within layouts/application
Rendering passwords/edit
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 13ms (View: 11, DB: 2) | 200 OK [http://www.example.com/users/2/password/edit?token=1bad4ecdf4065a569f6cd87cc0dc7886f05c452f]
REQUESTING PAGE: POST /users/2/password?token=1bad4ecdf4065a569f6cd87cc0dc7886f05c452f with {"user"=>{"password_confirmation"=>"newpassword", "password"=>"newpassword"}, "commit"=>"Save this password", "_method"=>"put"} and HTTP headers {"HTTP_REFERER"=>"/users/2/password/edit?token=1bad4ecdf4065a569f6cd87cc0dc7886f05c452f"}


Processing Clearance::PasswordsController#update (for 127.0.0.1 at 2009-11-17 15:44:25) [PUT]
  Parameters: {"user"=>{"password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Save this password", "token"=>"1bad4ecdf4065a569f6cd87cc0dc7886f05c452f", "action"=>"update", "_method"=>"put", "controller"=>"clearance/passwords", "user_id"=>"2"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '1bad4ecdf4065a569f6cd87cc0dc7886f05c452f' AND "users"."id" = '2') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."token" = '1bad4ecdf4065a569f6cd87cc0dc7886f05c452f' AND "users"."id" = '2') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE "users" SET "token" = NULL, "encrypted_password" = 'c5fda7d02c0a9ba73c5633c1693a79289568a4bd' WHERE "id" = 2[0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE "users" SET "email_confirmed" = 't' WHERE "id" = 2[0m
Redirected to http://www.example.com/
Completed in 7ms (DB: 1) | 302 Found [http://www.example.com/users/2/password?token=1bad4ecdf4065a569f6cd87cc0dc7886f05c452f]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/users/2/password?token=1bad4ecdf4065a569f6cd87cc0dc7886f05c452f"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:44:25) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.0ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (8.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 17ms (View: 14, DB: 2) | 200 OK [http://www.example.com/]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
REQUESTING PAGE: DELETE /session with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing Clearance::SessionsController#destroy (for 127.0.0.1 at 2009-11-17 15:44:25) [DELETE]
  Parameters: {"action"=>"destroy", "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
Redirected to http://www.example.com/session/new
Completed in 3ms (DB: 1) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:44:25) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://www.example.com/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."token" = '') LIMIT 1[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/session/new"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:44:25) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 9ms (View: 9, DB: 0) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"newpassword", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:44:25) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:44:25) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.1ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (95.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 105ms (View: 101, DB: 2) | 200 OK [http://www.example.com/]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:44:25) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: GET /session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:44:25) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:44:25) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering sessions/new (unauthorized)
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 11ms (View: 10, DB: 0) | 401 Unauthorized [http://www.example.com/session]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.5ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('d29020da4a50babe61bb4246ce00c517c9aab217', '51b7a98fb178cacc42272d245178ef5a90e0782b', NULL, '1bad4ecdf4065a569f6cd87cc0dc7886f05c452f', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 'f')[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:44:25) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 10ms (View: 9, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: GET /session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:44:25) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:44:25) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Sent mail to email@person.com

Date: Tue, 17 Nov 2009 15:44:25 +0700
From: donotreply@example.com
To: email@person.com
Subject: Account confirmation
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


http://localhost/users/2/confirmation/new?token=1bad4ecdf4065a569f6cd87cc0dc7886f05c452f
Redirected to http://www.example.com/session/new
Completed in 6ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:44:25) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 9ms (View: 9, DB: 0) | 200 OK [http://www.example.com/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('d29020da4a50babe61bb4246ce00c517c9aab217', '51b7a98fb178cacc42272d245178ef5a90e0782b', NULL, '1bad4ecdf4065a569f6cd87cc0dc7886f05c452f', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:44:25) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 9ms (View: 9, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: GET /session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:44:25) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 107ms (View: 107, DB: 0) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"wrongpassword", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:44:26) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering sessions/new (unauthorized)
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 11ms (View: 10, DB: 0) | 401 Unauthorized [http://www.example.com/session]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('39a3bc28fb299c0b69eb81d1b96cea429cc96430', '0686f2c657a62cea3266edf0e0edf00b8f4f4833', NULL, '70ecfbbfee7540cead64698018c64ba1d5ffaaa5', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:44:26) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: GET /session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:44:26) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 11ms (View: 11, DB: 0) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:44:26) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 1) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:44:26) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.4ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.1ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 15ms (View: 12, DB: 2) | 200 OK [http://www.example.com/]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('39a3bc28fb299c0b69eb81d1b96cea429cc96430', '0686f2c657a62cea3266edf0e0edf00b8f4f4833', NULL, '70ecfbbfee7540cead64698018c64ba1d5ffaaa5', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:44:26) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 9ms (View: 9, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: GET /session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:44:26) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"1", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:44:26) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"1"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Update (0.6ms)[0m   [0;1mUPDATE "users" SET "token" = '2d2f9d98edecb9702cd5ae975956852ebcd54692', "token_expires_at" = '2009-12-01 08:44:26' WHERE "id" = 2[0m
Redirected to http://www.example.com/
Completed in 113ms (DB: 1) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:44:26) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.0ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.1ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 15ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '2d2f9d98edecb9702cd5ae975956852ebcd54692') LIMIT 1[0m
REQUESTING PAGE: GET / with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:44:26) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.0ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.6ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 14ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '2d2f9d98edecb9702cd5ae975956852ebcd54692') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('39a3bc28fb299c0b69eb81d1b96cea429cc96430', '0686f2c657a62cea3266edf0e0edf00b8f4f4833', NULL, '70ecfbbfee7540cead64698018c64ba1d5ffaaa5', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:44:26) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:44:26) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:44:26) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.0ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (7.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 16ms (View: 13, DB: 2) | 200 OK [http://www.example.com/]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
REQUESTING PAGE: DELETE /session with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing Clearance::SessionsController#destroy (for 127.0.0.1 at 2009-11-17 15:44:26) [DELETE]
  Parameters: {"action"=>"destroy", "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE "users" SET "token" = NULL WHERE "id" = 2[0m
Redirected to http://www.example.com/session/new
Completed in 4ms (DB: 1) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:44:26) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://www.example.com/session/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('39a3bc28fb299c0b69eb81d1b96cea429cc96430', '0686f2c657a62cea3266edf0e0edf00b8f4f4833', NULL, '70ecfbbfee7540cead64698018c64ba1d5ffaaa5', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:44:26) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 10ms (View: 9, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"1", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:44:26) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"1"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE "users" SET "token" = '2d2f9d98edecb9702cd5ae975956852ebcd54692', "token_expires_at" = '2009-12-01 08:44:26' WHERE "id" = 2[0m
Redirected to http://www.example.com/
Completed in 4ms (DB: 1) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:44:26) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.0ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.1ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 14ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '2d2f9d98edecb9702cd5ae975956852ebcd54692') LIMIT 1[0m
REQUESTING PAGE: DELETE /session with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing Clearance::SessionsController#destroy (for 127.0.0.1 at 2009-11-17 15:44:26) [DELETE]
  Parameters: {"action"=>"destroy", "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."token" = '2d2f9d98edecb9702cd5ae975956852ebcd54692') LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE "users" SET "token" = NULL, "token_expires_at" = NULL WHERE "id" = 2[0m
Redirected to http://www.example.com/session/new
Completed in 3ms (DB: 1) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:44:26) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://www.example.com/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."token" = '') LIMIT 1[0m
REQUESTING PAGE: GET / with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/session/new"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:44:26) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.0ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
Rendered pages/_content_for_newsbar (5.3ms)
***************************************
tutor_link = /session/new
***************************************
Completed in 15ms (View: 12, DB: 2) | 200 OK [http://www.example.com/]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '') LIMIT 1[0m
REQUESTING PAGE: GET /users/new with {} and HTTP headers {}


Processing Clearance::UsersController#new (for 127.0.0.1 at 2009-11-17 15:44:26) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/users"}
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (7.1ms)
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 14ms (View: 11, DB: 0) | 200 OK [http://www.example.com/users/new]
REQUESTING PAGE: POST /users with {"user"=>{"language"=>"en", "password_confirmation"=>"", "password"=>"password", "email"=>"invalidemail"}, "commit"=>"Submit"} and HTTP headers {"HTTP_REFERER"=>"/users/new"}


Processing Clearance::UsersController#create (for 127.0.0.1 at 2009-11-17 15:44:26) [POST]
  Parameters: {"user"=>{"language"=>"en", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "email"=>"invalidemail"}, "commit"=>"Submit", "action"=>"create", "controller"=>"clearance/users"}
WARNING: Can't mass-assign these protected attributes: language
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'invalidemail') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (11.4ms)
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 18ms (View: 15, DB: 0) | 200 OK [http://www.example.com/users]
REQUESTING PAGE: GET /users/new with {} and HTTP headers {}


Processing Clearance::UsersController#new (for 127.0.0.1 at 2009-11-17 15:44:26) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/users"}
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (6.0ms)
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://www.example.com/users/new]
REQUESTING PAGE: POST /users with {"user"=>{"language"=>"en", "password_confirmation"=>"password", "password"=>"password", "email"=>"email@person.com"}, "commit"=>"Submit"} and HTTP headers {"HTTP_REFERER"=>"/users/new"}


Processing Clearance::UsersController#create (for 127.0.0.1 at 2009-11-17 15:44:26) [POST]
  Parameters: {"user"=>{"language"=>"en", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "email"=>"email@person.com"}, "commit"=>"Submit", "action"=>"create", "controller"=>"clearance/users"}
WARNING: Can't mass-assign these protected attributes: language
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('39a3bc28fb299c0b69eb81d1b96cea429cc96430', '0686f2c657a62cea3266edf0e0edf00b8f4f4833', NULL, '70ecfbbfee7540cead64698018c64ba1d5ffaaa5', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 'f')[0m
Sent mail to email@person.com

Date: Tue, 17 Nov 2009 15:44:26 +0700
From: donotreply@example.com
To: email@person.com
Subject: Account confirmation
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


http://localhost/users/2/confirmation/new?token=70ecfbbfee7540cead64698018c64ba1d5ffaaa5
Redirected to http://www.example.com/session/new
Completed in 9ms (DB: 1) | 302 Found [http://www.example.com/users]
REQUESTING PAGE: GET http://www.example.com/session/new with {} and HTTP headers {"HTTP_REFERER"=>"/users"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:44:26) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://www.example.com/session/new]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('39a3bc28fb299c0b69eb81d1b96cea429cc96430', '0686f2c657a62cea3266edf0e0edf00b8f4f4833', NULL, '70ecfbbfee7540cead64698018c64ba1d5ffaaa5', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 'f')[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
REQUESTING PAGE: GET /users/2/confirmation/new?token=70ecfbbfee7540cead64698018c64ba1d5ffaaa5 with {} and HTTP headers {}


Processing Clearance::ConfirmationsController#new (for 127.0.0.1 at 2009-11-17 15:44:26) [GET]
  Parameters: {"token"=>"[FILTERED]", "action"=>"new", "controller"=>"clearance/confirmations", "user_id"=>"2"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '2') LIMIT 1[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."token" = '70ecfbbfee7540cead64698018c64ba1d5ffaaa5' AND "users"."id" = '2') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '70ecfbbfee7540cead64698018c64ba1d5ffaaa5' AND "users"."id" = '2') LIMIT 1[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE "users" SET "email_confirmed" = 't', "token" = NULL WHERE "id" = 2[0m
Redirected to http://www.example.com/
Completed in 7ms (DB: 3) | 302 Found [http://www.example.com/users/2/confirmation/new?token=70ecfbbfee7540cead64698018c64ba1d5ffaaa5]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/users/2/confirmation/new?token=70ecfbbfee7540cead64698018c64ba1d5ffaaa5"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:44:26) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.0ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.9ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 14ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
REQUESTING PAGE: GET / with {} and HTTP headers {}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:44:26) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.5ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.0ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
Rendered pages/_content_for_newsbar (4.8ms)
***************************************
tutor_link = /session/new
***************************************
Completed in 12ms (View: 9, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /session/new with {} and HTTP headers {"HTTP_REFERER"=>"/"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:44:26) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://www.example.com/session/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.5ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('0909260c777fcd4440fdcd3755a3e12bbecbfefe', 'ef90273aa77b5f7303aaced41695f9de227a682d', NULL, '5808ccaebebdc0f22cd647c7542794efd8b28103', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE "users" SET "role" = 'null' WHERE "id" = 2[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mTutor Create (0.2ms)[0m   [0;1mINSERT INTO "tutors" ("textbook_experience", "updated_at", "photo_file_name", "photo_file_size", "course_experience", "qualifications", "photo_updated_at", "national_knowledge", "sex", "flavour", "given_name", "family_name", "photo_content_type", "phone", "given_name_first", "age", "address", "experience", "created_at") VALUES(NULL, '2009-11-17 08:44:27', NULL, NULL, NULL, NULL, NULL, NULL, 'm', NULL, 'Iain', 'Wood', NULL, NULL, 't', NULL, NULL, 'email@person.com''s private details', '2009-11-17 08:44:27')[0m
[paperclip] Saving attachments.
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE "users" SET "tutor_id" = 1 WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:44:27) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 9ms (View: 9, DB: 2) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:44:27) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:44:27) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.4ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.1ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 1
***************************************
***************************************
tutor_link = /tutors/1/edit
***************************************
Completed in 14ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET / with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:44:27) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.0ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (101.6ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 1
***************************************
***************************************
tutor_link = /tutors/1/edit
***************************************
Completed in 110ms (View: 107, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /tutors/1/edit with {} and HTTP headers {"HTTP_REFERER"=>"/"}


Processing TutorsController#edit (for 127.0.0.1 at 2009-11-17 15:44:27) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mTutor Load (0.5ms)[0m   [0;1mSELECT * FROM "tutors" WHERE ("tutors"."id" = 1) [0m
Rendering template within layouts/application
Rendering tutors/edit
Rendered tutors/_tutor_form (10.1ms)
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 1
***************************************
***************************************
tutor_link = /tutors/1/edit
***************************************
Completed in 17ms (View: 15, DB: 1) | 200 OK [http://www.example.com/tutors/1/edit]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('0909260c777fcd4440fdcd3755a3e12bbecbfefe', 'ef90273aa77b5f7303aaced41695f9de227a682d', NULL, '5808ccaebebdc0f22cd647c7542794efd8b28103', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE "users" SET "role" = 'admin' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:44:27) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/session/new
***************************************
Completed in 10ms (View: 10, DB: 2) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:44:27) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:44:27) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (2.4ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.5ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 17ms (View: 12, DB: 3) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET / with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:44:27) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.4ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.0ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.1ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 15ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /tutors with {} and HTTP headers {"HTTP_REFERER"=>"/"}


Processing TutorsController#index (for 127.0.0.1 at 2009-11-17 15:44:27) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mTutor Load (0.5ms)[0m   [0mSELECT * FROM "tutors" ORDER BY family_name LIMIT 30 OFFSET 0[0m
Rendering template within layouts/application
Rendering tutors/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 6ms (View: 4, DB: 1) | 200 OK [http://www.example.com/tutors]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('ea2018e25a1945a540b5c1be42803f71289ce5fd', 'c57e22b7e0481a7d070dcbb83f7135b0e7d8b0cd', NULL, '84e4ab215dfe0fdc9caa8d8cbd8cd2b5052210a7', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE "users" SET "role" = 'null' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:45:56) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 51ms (View: 49, DB: 2) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:45:57) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:45:57) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.4ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.1ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (10.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 27ms (View: 19, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /newsitems/1 with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing NewsitemsController#show (for 127.0.0.1 at 2009-11-17 15:45:57) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mNewsitem Load (0.4ms)[0m   [0mSELECT * FROM "newsitems" WHERE ("newsitems"."id" = 1) [0m
Rendering template within layouts/application
Rendering newsitems/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 10ms (View: 7, DB: 1) | 200 OK [http://www.example.com/newsitems/1]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('af9492c69fb3e23d4e9ae060345d6a238d597a44', '54dbde0f00d58d1f4c8466b77e9fca7cdf4aad34', NULL, '1ed89ff078477f19373d3e76fca7d2c2dcb92c1c', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE "users" SET "role" = 'admin' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:45:57) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 11ms (View: 11, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:45:57) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 1) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:45:57) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.1ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.1ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 15ms (View: 12, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /newsitems/1 with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing NewsitemsController#show (for 127.0.0.1 at 2009-11-17 15:45:57) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mNewsitem Load (0.4ms)[0m   [0mSELECT * FROM "newsitems" WHERE ("newsitems"."id" = 1) [0m
Rendering template within layouts/application
Rendering newsitems/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 8ms (View: 6, DB: 1) | 200 OK [http://www.example.com/newsitems/1]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('af9492c69fb3e23d4e9ae060345d6a238d597a44', '54dbde0f00d58d1f4c8466b77e9fca7cdf4aad34', NULL, '1ed89ff078477f19373d3e76fca7d2c2dcb92c1c', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE "users" SET "role" = 'null' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:45:57) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:45:57) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:45:57) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.0ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 14ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /newsitems with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing NewsitemsController#index (for 127.0.0.1 at 2009-11-17 15:45:57) [GET]
  [4;35;1mNewsitem Load (0.6ms)[0m   [0mSELECT * FROM "newsitems" [0m
Rendering template within layouts/application
Rendering newsitems/index
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 13ms (View: 11, DB: 1) | 200 OK [http://www.example.com/newsitems]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('af9492c69fb3e23d4e9ae060345d6a238d597a44', '54dbde0f00d58d1f4c8466b77e9fca7cdf4aad34', NULL, '1ed89ff078477f19373d3e76fca7d2c2dcb92c1c', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE "users" SET "role" = 'admin' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:45:57) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 10, DB: 2) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:45:57) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:45:57) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.1ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 16ms (View: 13, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /newsitems with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing NewsitemsController#index (for 127.0.0.1 at 2009-11-17 15:45:57) [GET]
  [4;36;1mNewsitem Load (0.6ms)[0m   [0;1mSELECT * FROM "newsitems" [0m
Rendering template within layouts/application
Rendering newsitems/index
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 20ms (View: 17, DB: 1) | 200 OK [http://www.example.com/newsitems]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('af9492c69fb3e23d4e9ae060345d6a238d597a44', '54dbde0f00d58d1f4c8466b77e9fca7cdf4aad34', NULL, '1ed89ff078477f19373d3e76fca7d2c2dcb92c1c', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.6ms)[0m   [0;1mUPDATE "users" SET "role" = 'null' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:45:57) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 10, DB: 2) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:45:57) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:45:57) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.0ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 14ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /pages with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing PagesController#index (for 127.0.0.1 at 2009-11-17 15:45:57) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Redirected to http://www.example.com/
Filter chain halted as [:must_be_admin] rendered_or_redirected.
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/pages]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/pages"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:45:57) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.0ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.9ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 15ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('af9492c69fb3e23d4e9ae060345d6a238d597a44', '54dbde0f00d58d1f4c8466b77e9fca7cdf4aad34', NULL, '1ed89ff078477f19373d3e76fca7d2c2dcb92c1c', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE "users" SET "role" = 'admin' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:45:57) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 10, DB: 2) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:45:57) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:45:57) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.0ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.5ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 16ms (View: 12, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /pages with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing PagesController#index (for 127.0.0.1 at 2009-11-17 15:45:57) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mPage Load (0.6ms)[0m   [0mSELECT * FROM "pages" [0m
Rendering template within layouts/application
Rendering pages/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 23ms (View: 20, DB: 1) | 200 OK [http://www.example.com/pages]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('af9492c69fb3e23d4e9ae060345d6a238d597a44', '54dbde0f00d58d1f4c8466b77e9fca7cdf4aad34', NULL, '1ed89ff078477f19373d3e76fca7d2c2dcb92c1c', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE "users" SET "role" = 'null' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:45:57) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 10, DB: 2) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:45:57) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:45:57) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.0ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.6ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 15ms (View: 12, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET / with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:45:57) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.0ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 14ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('af9492c69fb3e23d4e9ae060345d6a238d597a44', '54dbde0f00d58d1f4c8466b77e9fca7cdf4aad34', NULL, '1ed89ff078477f19373d3e76fca7d2c2dcb92c1c', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE "users" SET "role" = 'admin' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:45:57) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:45:57) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 1) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:45:57) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.0ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 14ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET / with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:45:57) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.0ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 16ms (View: 13, DB: 2) | 200 OK [http://www.example.com/]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('c2cf4b3727d9fe426f6003679f5b1c905ca3d9fe', '1607a5978df44ffac0983f28142621f58eb76a87', NULL, 'd841d27fecf6781ff5a86380ded21d3ab0bced26', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE "users" SET "role" = 'null' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:45:58) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:45:58) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:45:58) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (284.5ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (8.2ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 301ms (View: 14, DB: 285) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /tutors with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing TutorsController#index (for 127.0.0.1 at 2009-11-17 15:45:58) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Redirected to http://www.example.com/
Filter chain halted as [:must_be_admin] rendered_or_redirected.
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/tutors]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/tutors"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:45:58) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.1ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.5ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 14ms (View: 10, DB: 2) | 200 OK [http://www.example.com/]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('c2cf4b3727d9fe426f6003679f5b1c905ca3d9fe', '1607a5978df44ffac0983f28142621f58eb76a87', NULL, 'd841d27fecf6781ff5a86380ded21d3ab0bced26', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE "users" SET "role" = 'admin' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:45:58) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 10, DB: 2) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:45:58) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:45:58) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (2.3ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 17ms (View: 12, DB: 3) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /tutors with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing TutorsController#index (for 127.0.0.1 at 2009-11-17 15:45:58) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mTutor Load (0.6ms)[0m   [0;1mSELECT * FROM "tutors" ORDER BY family_name LIMIT 30 OFFSET 0[0m
Rendering template within layouts/application
Rendering tutors/index
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 11ms (View: 6, DB: 1) | 200 OK [http://www.example.com/tutors]
REQUESTING PAGE: GET /tutors/1/edit with {} and HTTP headers {}


Processing TutorsController#edit (for 127.0.0.1 at 2009-11-17 15:45:58) [GET]
  Parameters: {"id"=>"1"}
Redirected to http://www.example.com/clearance/sessions/new
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/tutors/1/edit]
REQUESTING PAGE: GET http://www.example.com/clearance/sessions/new with {} and HTTP headers {"HTTP_REFERER"=>"/tutors/1/edit"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:45:58) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://www.example.com/clearance/sessions/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('c2cf4b3727d9fe426f6003679f5b1c905ca3d9fe', '1607a5978df44ffac0983f28142621f58eb76a87', NULL, 'd841d27fecf6781ff5a86380ded21d3ab0bced26', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:45:58) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 11ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:45:58) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 1) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:45:58) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.4ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.2ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.3ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 16ms (View: 12, DB: 2) | 200 OK [http://www.example.com/]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('c2cf4b3727d9fe426f6003679f5b1c905ca3d9fe', '1607a5978df44ffac0983f28142621f58eb76a87', NULL, 'd841d27fecf6781ff5a86380ded21d3ab0bced26', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:45:58) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:45:58) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (1.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 3ms (DB: 2) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:45:58) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.4ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.1ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 15ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /tutors/new with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing TutorsController#new (for 127.0.0.1 at 2009-11-17 15:45:58) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/application
Rendering tutors/new
Rendered tutors/_tutor_form (13.7ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 23ms (View: 18, DB: 0) | 200 OK [http://www.example.com/tutors/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('c2cf4b3727d9fe426f6003679f5b1c905ca3d9fe', '1607a5978df44ffac0983f28142621f58eb76a87', NULL, 'd841d27fecf6781ff5a86380ded21d3ab0bced26', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mTutor Create (0.2ms)[0m   [0mINSERT INTO "tutors" ("textbook_experience", "updated_at", "photo_file_name", "photo_file_size", "course_experience", "qualifications", "photo_updated_at", "national_knowledge", "sex", "flavour", "given_name", "family_name", "photo_content_type", "phone", "given_name_first", "age", "address", "experience", "created_at") VALUES(NULL, '2009-11-17 08:45:58', NULL, NULL, NULL, NULL, NULL, NULL, 'm', NULL, 'Iain', 'Wood', NULL, NULL, 't', NULL, NULL, 'email@person.com''s private details', '2009-11-17 08:45:58')[0m
[paperclip] Saving attachments.
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE "users" SET "tutor_id" = 1 WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:45:58) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 9, DB: 2) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:45:58) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:45:58) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.1ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 1
***************************************
***************************************
tutor_link = /tutors/1/edit
***************************************
Completed in 15ms (View: 12, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /tutors/new with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing TutorsController#new (for 127.0.0.1 at 2009-11-17 15:45:59) [GET]
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mTutor Load (0.4ms)[0m   [0mSELECT * FROM "tutors" WHERE ("tutors"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tutors" WHERE ("tutors"."id" = 1) [0m
Rendering template within layouts/application
Rendering tutors/new
Rendered tutors/_tutor_form (10.5ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 1
***************************************
***************************************
tutor_link = /tutors/1/edit
***************************************
Completed in 19ms (View: 15, DB: 1) | 200 OK [http://www.example.com/tutors/new]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
REQUESTING PAGE: GET /passwords/new with {} and HTTP headers {}


Processing Clearance::PasswordsController#new (for 127.0.0.1 at 2009-11-17 15:45:59) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/passwords"}
Rendering template within layouts/application
Rendering passwords/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 12ms (View: 10, DB: 0) | 200 OK [http://www.example.com/passwords/new]
REQUESTING PAGE: POST /passwords with {"commit"=>"Reset password", "password"=>{"email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/passwords/new"}


Processing Clearance::PasswordsController#create (for 127.0.0.1 at 2009-11-17 15:45:59) [POST]
  Parameters: {"commit"=>"Reset password", "action"=>"create", "controller"=>"clearance/passwords", "password"=>"[FILTERED]"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering passwords/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://www.example.com/passwords]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('f51d9bbbcaf9bbe449fb74459aec7c8f799b9422', 'f8d7899e0f2807d602bde48c58580f946b2517e8', NULL, '860133c5dae4c262d1e0f18e1b7eb1b4cbe3ffae', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 'f')[0m
REQUESTING PAGE: GET /passwords/new with {} and HTTP headers {}


Processing Clearance::PasswordsController#new (for 127.0.0.1 at 2009-11-17 15:45:59) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/passwords"}
Rendering template within layouts/application
Rendering passwords/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 9ms (View: 9, DB: 1) | 200 OK [http://www.example.com/passwords/new]
REQUESTING PAGE: POST /passwords with {"commit"=>"Reset password", "password"=>{"email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/passwords/new"}


Processing Clearance::PasswordsController#create (for 127.0.0.1 at 2009-11-17 15:45:59) [POST]
  Parameters: {"commit"=>"Reset password", "action"=>"create", "controller"=>"clearance/passwords", "password"=>"[FILTERED]"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE "users" SET "token" = '6907b351e09a659652e744c9edb173c92cf0f983' WHERE "id" = 2[0m
Sent mail to email@person.com

Date: Tue, 17 Nov 2009 15:45:59 +0700
From: donotreply@example.com
To: email@person.com
Subject: Change your password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Someone, hopefully you, has requested that we send you a link to change your password.

Here's the link:

http://localhost/users/2/password/edit?token=6907b351e09a659652e744c9edb173c92cf0f983

If you didn't request this, ignore this email. Don't worry. Your password hasn't been changed.
Redirected to http://www.example.com/session/new
Completed in 52ms (DB: 1) | 302 Found [http://www.example.com/passwords]
REQUESTING PAGE: GET http://www.example.com/session/new with {} and HTTP headers {"HTTP_REFERER"=>"/passwords"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:45:59) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 9ms (View: 9, DB: 0) | 200 OK [http://www.example.com/session/new]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('f51d9bbbcaf9bbe449fb74459aec7c8f799b9422', 'f8d7899e0f2807d602bde48c58580f946b2517e8', NULL, '860133c5dae4c262d1e0f18e1b7eb1b4cbe3ffae', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 'f')[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
REQUESTING PAGE: GET /users/2/password/edit?token=860133c5dae4c262d1e0f18e1b7eb1b4cbe3ffae with {} and HTTP headers {}


Processing Clearance::PasswordsController#edit (for 127.0.0.1 at 2009-11-17 15:45:59) [GET]
  Parameters: {"token"=>"860133c5dae4c262d1e0f18e1b7eb1b4cbe3ffae", "action"=>"edit", "controller"=>"clearance/passwords", "user_id"=>"2"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."token" = '860133c5dae4c262d1e0f18e1b7eb1b4cbe3ffae' AND "users"."id" = '2') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '860133c5dae4c262d1e0f18e1b7eb1b4cbe3ffae' AND "users"."id" = '2') LIMIT 1[0m
Rendering template within layouts/application
Rendering passwords/edit
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 109ms (View: 107, DB: 2) | 200 OK [http://www.example.com/users/2/password/edit?token=860133c5dae4c262d1e0f18e1b7eb1b4cbe3ffae]
REQUESTING PAGE: POST /users/2/password?token=860133c5dae4c262d1e0f18e1b7eb1b4cbe3ffae with {"user"=>{"password_confirmation"=>"wrongconfirmation", "password"=>"newpassword"}, "commit"=>"Save this password", "_method"=>"put"} and HTTP headers {"HTTP_REFERER"=>"/users/2/password/edit?token=860133c5dae4c262d1e0f18e1b7eb1b4cbe3ffae"}


Processing Clearance::PasswordsController#update (for 127.0.0.1 at 2009-11-17 15:45:59) [PUT]
  Parameters: {"user"=>{"password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Save this password", "token"=>"860133c5dae4c262d1e0f18e1b7eb1b4cbe3ffae", "action"=>"update", "_method"=>"put", "controller"=>"clearance/passwords", "user_id"=>"2"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."token" = '860133c5dae4c262d1e0f18e1b7eb1b4cbe3ffae' AND "users"."id" = '2') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '860133c5dae4c262d1e0f18e1b7eb1b4cbe3ffae' AND "users"."id" = '2') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering passwords/edit
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 20ms (View: 15, DB: 1) | 200 OK [http://www.example.com/users/2/password?token=860133c5dae4c262d1e0f18e1b7eb1b4cbe3ffae]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('f51d9bbbcaf9bbe449fb74459aec7c8f799b9422', 'f8d7899e0f2807d602bde48c58580f946b2517e8', NULL, '860133c5dae4c262d1e0f18e1b7eb1b4cbe3ffae', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 'f')[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
REQUESTING PAGE: GET /users/2/password/edit?token=860133c5dae4c262d1e0f18e1b7eb1b4cbe3ffae with {} and HTTP headers {}


Processing Clearance::PasswordsController#edit (for 127.0.0.1 at 2009-11-17 15:45:59) [GET]
  Parameters: {"token"=>"860133c5dae4c262d1e0f18e1b7eb1b4cbe3ffae", "action"=>"edit", "controller"=>"clearance/passwords", "user_id"=>"2"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '860133c5dae4c262d1e0f18e1b7eb1b4cbe3ffae' AND "users"."id" = '2') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."token" = '860133c5dae4c262d1e0f18e1b7eb1b4cbe3ffae' AND "users"."id" = '2') LIMIT 1[0m
Rendering template within layouts/application
Rendering passwords/edit
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 12ms (View: 10, DB: 2) | 200 OK [http://www.example.com/users/2/password/edit?token=860133c5dae4c262d1e0f18e1b7eb1b4cbe3ffae]
REQUESTING PAGE: POST /users/2/password?token=860133c5dae4c262d1e0f18e1b7eb1b4cbe3ffae with {"user"=>{"password_confirmation"=>"newpassword", "password"=>"newpassword"}, "commit"=>"Save this password", "_method"=>"put"} and HTTP headers {"HTTP_REFERER"=>"/users/2/password/edit?token=860133c5dae4c262d1e0f18e1b7eb1b4cbe3ffae"}


Processing Clearance::PasswordsController#update (for 127.0.0.1 at 2009-11-17 15:45:59) [PUT]
  Parameters: {"user"=>{"password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Save this password", "token"=>"860133c5dae4c262d1e0f18e1b7eb1b4cbe3ffae", "action"=>"update", "_method"=>"put", "controller"=>"clearance/passwords", "user_id"=>"2"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '860133c5dae4c262d1e0f18e1b7eb1b4cbe3ffae' AND "users"."id" = '2') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."token" = '860133c5dae4c262d1e0f18e1b7eb1b4cbe3ffae' AND "users"."id" = '2') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.7ms)[0m   [0;1mUPDATE "users" SET "token" = NULL, "encrypted_password" = '6fc1aa9849a46ff4046ba9307ae3aa15cdb8add1' WHERE "id" = 2[0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE "users" SET "email_confirmed" = 't' WHERE "id" = 2[0m
Redirected to http://www.example.com/
Completed in 8ms (DB: 1) | 302 Found [http://www.example.com/users/2/password?token=860133c5dae4c262d1e0f18e1b7eb1b4cbe3ffae]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/users/2/password?token=860133c5dae4c262d1e0f18e1b7eb1b4cbe3ffae"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:45:59) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.1ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 15ms (View: 12, DB: 2) | 200 OK [http://www.example.com/]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
REQUESTING PAGE: DELETE /session with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing Clearance::SessionsController#destroy (for 127.0.0.1 at 2009-11-17 15:45:59) [DELETE]
  Parameters: {"action"=>"destroy", "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
Redirected to http://www.example.com/session/new
Completed in 3ms (DB: 1) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:45:59) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://www.example.com/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."token" = '') LIMIT 1[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/session/new"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:45:59) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"newpassword", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:45:59) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:45:59) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.4ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.1ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (95.2ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 104ms (View: 101, DB: 2) | 200 OK [http://www.example.com/]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:45:59) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 11ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: GET /session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:45:59) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 11ms (View: 10, DB: 0) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:45:59) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering sessions/new (unauthorized)
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 11ms (View: 10, DB: 0) | 401 Unauthorized [http://www.example.com/session]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.5ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('f51d9bbbcaf9bbe449fb74459aec7c8f799b9422', 'f8d7899e0f2807d602bde48c58580f946b2517e8', NULL, '860133c5dae4c262d1e0f18e1b7eb1b4cbe3ffae', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 'f')[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:45:59) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 9, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: GET /session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:45:59) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 11ms (View: 11, DB: 0) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:45:59) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Sent mail to email@person.com

Date: Tue, 17 Nov 2009 15:45:59 +0700
From: donotreply@example.com
To: email@person.com
Subject: Account confirmation
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


http://localhost/users/2/confirmation/new?token=860133c5dae4c262d1e0f18e1b7eb1b4cbe3ffae
Redirected to http://www.example.com/session/new
Completed in 6ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:45:59) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 9ms (View: 9, DB: 0) | 200 OK [http://www.example.com/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('f51d9bbbcaf9bbe449fb74459aec7c8f799b9422', 'f8d7899e0f2807d602bde48c58580f946b2517e8', NULL, '860133c5dae4c262d1e0f18e1b7eb1b4cbe3ffae', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:45:59) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 9, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: GET /session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:45:59) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"wrongpassword", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:45:59) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering sessions/new (unauthorized)
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 11ms (View: 10, DB: 0) | 401 Unauthorized [http://www.example.com/session]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('f51d9bbbcaf9bbe449fb74459aec7c8f799b9422', 'f8d7899e0f2807d602bde48c58580f946b2517e8', NULL, '860133c5dae4c262d1e0f18e1b7eb1b4cbe3ffae', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:45:59) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: GET /session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:45:59) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 12ms (View: 11, DB: 0) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:45:59) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:45:59) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.1ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 14ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('f51d9bbbcaf9bbe449fb74459aec7c8f799b9422', 'f8d7899e0f2807d602bde48c58580f946b2517e8', NULL, '860133c5dae4c262d1e0f18e1b7eb1b4cbe3ffae', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:45:59) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 9, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: GET /session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:46:00) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 11ms (View: 10, DB: 0) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"1", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:46:00) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"1"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Update (0.6ms)[0m   [0;1mUPDATE "users" SET "token" = 'a06e62769fa5032c3ec1ca263e8249efd86af9b1', "token_expires_at" = '2009-12-01 08:46:00' WHERE "id" = 2[0m
Redirected to http://www.example.com/
Completed in 112ms (DB: 1) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:46:00) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.0ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.3ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 15ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = 'a06e62769fa5032c3ec1ca263e8249efd86af9b1') LIMIT 1[0m
REQUESTING PAGE: GET / with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:46:00) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.4ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.1ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 14ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = 'a06e62769fa5032c3ec1ca263e8249efd86af9b1') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('389acf605a04d5c25a627612896b6dedbdd5fe97', '712fe9f7dd35a00dc00d65cb0e58addfbd911872', NULL, '0d7f8ee32931df87cb779c859666d1acb7db887e', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:46:00) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:46:00) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:46:00) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.2ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 17ms (View: 13, DB: 2) | 200 OK [http://www.example.com/]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
REQUESTING PAGE: DELETE /session with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing Clearance::SessionsController#destroy (for 127.0.0.1 at 2009-11-17 15:46:00) [DELETE]
  Parameters: {"action"=>"destroy", "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE "users" SET "token" = NULL WHERE "id" = 2[0m
Redirected to http://www.example.com/session/new
Completed in 3ms (DB: 1) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:46:00) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://www.example.com/session/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('389acf605a04d5c25a627612896b6dedbdd5fe97', '712fe9f7dd35a00dc00d65cb0e58addfbd911872', NULL, '0d7f8ee32931df87cb779c859666d1acb7db887e', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:46:00) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"1", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:46:00) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"1"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE "users" SET "token" = 'fbc32cffbcb71e3965920fb09439e4a77b021ffb', "token_expires_at" = '2009-12-01 08:46:00' WHERE "id" = 2[0m
Redirected to http://www.example.com/
Completed in 4ms (DB: 1) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:46:00) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.0ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.3ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 15ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = 'fbc32cffbcb71e3965920fb09439e4a77b021ffb') LIMIT 1[0m
REQUESTING PAGE: DELETE /session with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing Clearance::SessionsController#destroy (for 127.0.0.1 at 2009-11-17 15:46:00) [DELETE]
  Parameters: {"action"=>"destroy", "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."token" = 'fbc32cffbcb71e3965920fb09439e4a77b021ffb') LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE "users" SET "token" = NULL, "token_expires_at" = NULL WHERE "id" = 2[0m
Redirected to http://www.example.com/session/new
Completed in 3ms (DB: 1) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:46:00) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://www.example.com/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."token" = '') LIMIT 1[0m
REQUESTING PAGE: GET / with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/session/new"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:46:00) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.0ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
Rendered pages/_content_for_newsbar (6.1ms)
***************************************
tutor_link = /sessions/new
***************************************
Completed in 15ms (View: 12, DB: 2) | 200 OK [http://www.example.com/]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '') LIMIT 1[0m
REQUESTING PAGE: GET /users/new with {} and HTTP headers {}


Processing Clearance::UsersController#new (for 127.0.0.1 at 2009-11-17 15:46:00) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/users"}
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (7.0ms)
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 14ms (View: 11, DB: 0) | 200 OK [http://www.example.com/users/new]
REQUESTING PAGE: POST /users with {"user"=>{"language"=>"en", "password_confirmation"=>"", "password"=>"password", "email"=>"invalidemail"}, "commit"=>"Submit"} and HTTP headers {"HTTP_REFERER"=>"/users/new"}


Processing Clearance::UsersController#create (for 127.0.0.1 at 2009-11-17 15:46:00) [POST]
  Parameters: {"user"=>{"language"=>"en", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "email"=>"invalidemail"}, "commit"=>"Submit", "action"=>"create", "controller"=>"clearance/users"}
WARNING: Can't mass-assign these protected attributes: language
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'invalidemail') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (11.4ms)
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 18ms (View: 15, DB: 0) | 200 OK [http://www.example.com/users]
REQUESTING PAGE: GET /users/new with {} and HTTP headers {}


Processing Clearance::UsersController#new (for 127.0.0.1 at 2009-11-17 15:46:00) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/users"}
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (6.2ms)
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://www.example.com/users/new]
REQUESTING PAGE: POST /users with {"user"=>{"language"=>"en", "password_confirmation"=>"password", "password"=>"password", "email"=>"email@person.com"}, "commit"=>"Submit"} and HTTP headers {"HTTP_REFERER"=>"/users/new"}


Processing Clearance::UsersController#create (for 127.0.0.1 at 2009-11-17 15:46:00) [POST]
  Parameters: {"user"=>{"language"=>"en", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "email"=>"email@person.com"}, "commit"=>"Submit", "action"=>"create", "controller"=>"clearance/users"}
WARNING: Can't mass-assign these protected attributes: language
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.5ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('389acf605a04d5c25a627612896b6dedbdd5fe97', '712fe9f7dd35a00dc00d65cb0e58addfbd911872', NULL, '0d7f8ee32931df87cb779c859666d1acb7db887e', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 'f')[0m
Sent mail to email@person.com

Date: Tue, 17 Nov 2009 15:46:00 +0700
From: donotreply@example.com
To: email@person.com
Subject: Account confirmation
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


http://localhost/users/2/confirmation/new?token=0d7f8ee32931df87cb779c859666d1acb7db887e
Redirected to http://www.example.com/session/new
Completed in 8ms (DB: 1) | 302 Found [http://www.example.com/users]
REQUESTING PAGE: GET http://www.example.com/session/new with {} and HTTP headers {"HTTP_REFERER"=>"/users"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:46:00) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://www.example.com/session/new]
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('389acf605a04d5c25a627612896b6dedbdd5fe97', '712fe9f7dd35a00dc00d65cb0e58addfbd911872', NULL, '0d7f8ee32931df87cb779c859666d1acb7db887e', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 'f')[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
REQUESTING PAGE: GET /users/2/confirmation/new?token=0d7f8ee32931df87cb779c859666d1acb7db887e with {} and HTTP headers {}


Processing Clearance::ConfirmationsController#new (for 127.0.0.1 at 2009-11-17 15:46:00) [GET]
  Parameters: {"token"=>"[FILTERED]", "action"=>"new", "controller"=>"clearance/confirmations", "user_id"=>"2"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '2') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."token" = '0d7f8ee32931df87cb779c859666d1acb7db887e' AND "users"."id" = '2') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '0d7f8ee32931df87cb779c859666d1acb7db887e' AND "users"."id" = '2') LIMIT 1[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE "users" SET "email_confirmed" = 't', "token" = NULL WHERE "id" = 2[0m
Redirected to http://www.example.com/
Completed in 7ms (DB: 3) | 302 Found [http://www.example.com/users/2/confirmation/new?token=0d7f8ee32931df87cb779c859666d1acb7db887e]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/users/2/confirmation/new?token=0d7f8ee32931df87cb779c859666d1acb7db887e"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:46:00) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.4ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.1ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.1ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 15ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
REQUESTING PAGE: GET / with {} and HTTP headers {}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:46:00) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.4ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.0ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
Rendered pages/_content_for_newsbar (5.0ms)
***************************************
tutor_link = /sessions/new
***************************************
Completed in 12ms (View: 9, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /sessions/new with {} and HTTP headers {"HTTP_REFERER"=>"/"}


Processing ApplicationController#index (for 127.0.0.1 at 2009-11-17 15:46:00) [GET]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('389acf605a04d5c25a627612896b6dedbdd5fe97', '712fe9f7dd35a00dc00d65cb0e58addfbd911872', NULL, '0d7f8ee32931df87cb779c859666d1acb7db887e', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE "users" SET "role" = 'null' WHERE "id" = 2[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mTutor Create (0.2ms)[0m   [0;1mINSERT INTO "tutors" ("textbook_experience", "updated_at", "photo_file_name", "photo_file_size", "course_experience", "qualifications", "photo_updated_at", "national_knowledge", "sex", "flavour", "given_name", "family_name", "photo_content_type", "phone", "given_name_first", "age", "address", "experience", "created_at") VALUES(NULL, '2009-11-17 08:46:00', NULL, NULL, NULL, NULL, NULL, NULL, 'm', NULL, 'Iain', 'Wood', NULL, NULL, 't', NULL, NULL, 'email@person.com''s private details', '2009-11-17 08:46:00')[0m
[paperclip] Saving attachments.
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE "users" SET "tutor_id" = 1 WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:46:00) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 10ms (View: 9, DB: 2) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:46:00) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:46:00) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.0ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.5ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 1
***************************************
***************************************
tutor_link = /tutors/1/edit
***************************************
Completed in 14ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET / with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:46:00) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.4ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.1ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.4ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 1
***************************************
***************************************
tutor_link = /tutors/1/edit
***************************************
Completed in 14ms (View: 10, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /tutors/1/edit with {} and HTTP headers {"HTTP_REFERER"=>"/"}


Processing TutorsController#edit (for 127.0.0.1 at 2009-11-17 15:46:01) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mTutor Load (0.6ms)[0m   [0;1mSELECT * FROM "tutors" WHERE ("tutors"."id" = 1) [0m
Rendering template within layouts/application
Rendering tutors/edit
Rendered tutors/_tutor_form (10.2ms)
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 1
***************************************
***************************************
tutor_link = /tutors/1/edit
***************************************
Completed in 17ms (View: 15, DB: 1) | 200 OK [http://www.example.com/tutors/1/edit]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('2138ff58247b4869e62212d0f1877df880aa1ffa', '2dafe29607267d94c1248bcae89850a54565e582', NULL, '1ac5a1f021da34295f1927f34bb6dc2295510c32', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE "users" SET "role" = 'admin' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:46:01) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /clearance/sessions/new
***************************************
Completed in 11ms (View: 10, DB: 2) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:46:01) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:46:01) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.4ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.4ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.4ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 16ms (View: 12, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET / with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:46:01) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.4ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.1ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.1ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 15ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /tutors with {} and HTTP headers {"HTTP_REFERER"=>"/"}


Processing TutorsController#index (for 127.0.0.1 at 2009-11-17 15:46:01) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mTutor Load (0.5ms)[0m   [0mSELECT * FROM "tutors" ORDER BY family_name LIMIT 30 OFFSET 0[0m
Rendering template within layouts/application
Rendering tutors/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 6ms (View: 4, DB: 1) | 200 OK [http://www.example.com/tutors]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('813ccdd765fcd464c097fbb91c3dd4121f75647d', '68edf1773011933222ca7d065bcf878392d78287', NULL, 'e7d3ec3ddb728cbb7d69451dcb9535b1dd872794', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE "users" SET "role" = 'null' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:48:38) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /session/new
***************************************
Completed in 51ms (View: 48, DB: 2) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:48:38) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:48:38) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.1ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (10.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 27ms (View: 19, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /newsitems/1 with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing NewsitemsController#show (for 127.0.0.1 at 2009-11-17 15:48:38) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mNewsitem Load (0.4ms)[0m   [0mSELECT * FROM "newsitems" WHERE ("newsitems"."id" = 1) [0m
Rendering template within layouts/application
Rendering newsitems/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 10ms (View: 7, DB: 1) | 200 OK [http://www.example.com/newsitems/1]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('813ccdd765fcd464c097fbb91c3dd4121f75647d', '68edf1773011933222ca7d065bcf878392d78287', NULL, 'e7d3ec3ddb728cbb7d69451dcb9535b1dd872794', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE "users" SET "role" = 'admin' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:48:38) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /session/new
***************************************
Completed in 10ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:48:38) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 1) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:48:38) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.4ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.1ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.0ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 15ms (View: 12, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /newsitems/1 with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing NewsitemsController#show (for 127.0.0.1 at 2009-11-17 15:48:38) [GET]
  Parameters: {"id"=>"1"}
  [4;35;1mNewsitem Load (0.4ms)[0m   [0mSELECT * FROM "newsitems" WHERE ("newsitems"."id" = 1) [0m
Rendering template within layouts/application
Rendering newsitems/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 8ms (View: 6, DB: 1) | 200 OK [http://www.example.com/newsitems/1]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('813ccdd765fcd464c097fbb91c3dd4121f75647d', '68edf1773011933222ca7d065bcf878392d78287', NULL, 'e7d3ec3ddb728cbb7d69451dcb9535b1dd872794', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE "users" SET "role" = 'null' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:48:38) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /session/new
***************************************
Completed in 10ms (View: 9, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:48:38) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:48:38) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.0ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 14ms (View: 10, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /newsitems with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing NewsitemsController#index (for 127.0.0.1 at 2009-11-17 15:48:38) [GET]
  [4;35;1mNewsitem Load (0.6ms)[0m   [0mSELECT * FROM "newsitems" [0m
Rendering template within layouts/application
Rendering newsitems/index
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 13ms (View: 11, DB: 1) | 200 OK [http://www.example.com/newsitems]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('813ccdd765fcd464c097fbb91c3dd4121f75647d', '68edf1773011933222ca7d065bcf878392d78287', NULL, 'e7d3ec3ddb728cbb7d69451dcb9535b1dd872794', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE "users" SET "role" = 'admin' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:48:38) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /session/new
***************************************
Completed in 10ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:48:38) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 1) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:48:38) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.4ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.1ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 15ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /newsitems with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing NewsitemsController#index (for 127.0.0.1 at 2009-11-17 15:48:38) [GET]
  [4;36;1mNewsitem Load (0.6ms)[0m   [0;1mSELECT * FROM "newsitems" [0m
Rendering template within layouts/application
Rendering newsitems/index
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 20ms (View: 18, DB: 1) | 200 OK [http://www.example.com/newsitems]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('813ccdd765fcd464c097fbb91c3dd4121f75647d', '68edf1773011933222ca7d065bcf878392d78287', NULL, 'e7d3ec3ddb728cbb7d69451dcb9535b1dd872794', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE "users" SET "role" = 'null' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:48:38) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /session/new
***************************************
Completed in 10ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:48:38) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:48:38) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.0ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 14ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /pages with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing PagesController#index (for 127.0.0.1 at 2009-11-17 15:48:38) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Redirected to http://www.example.com/
Filter chain halted as [:must_be_admin] rendered_or_redirected.
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/pages]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/pages"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:48:38) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.0ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.5ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 14ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('813ccdd765fcd464c097fbb91c3dd4121f75647d', '68edf1773011933222ca7d065bcf878392d78287', NULL, 'e7d3ec3ddb728cbb7d69451dcb9535b1dd872794', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mUser Update (0.5ms)[0m   [0mUPDATE "users" SET "role" = 'admin' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:48:38) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /session/new
***************************************
Completed in 10ms (View: 9, DB: 2) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:48:38) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:48:38) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.5ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.3ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.1ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 16ms (View: 12, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /pages with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing PagesController#index (for 127.0.0.1 at 2009-11-17 15:48:38) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mPage Load (0.6ms)[0m   [0mSELECT * FROM "pages" [0m
Rendering template within layouts/application
Rendering pages/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 22ms (View: 19, DB: 1) | 200 OK [http://www.example.com/pages]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.6ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('813ccdd765fcd464c097fbb91c3dd4121f75647d', '68edf1773011933222ca7d065bcf878392d78287', NULL, 'e7d3ec3ddb728cbb7d69451dcb9535b1dd872794', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE "users" SET "role" = 'null' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:48:39) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /session/new
***************************************
Completed in 10ms (View: 10, DB: 2) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:48:39) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:48:39) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.0ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 14ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET / with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:48:39) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.4ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.0ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 14ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('59ecb9bd6f12ed60327405bcd40dfda87ca2c551', 'eb018a0c8674ee2cf89316b7213988b023f1deb2', NULL, '5ba73bc81d7ccc9a91615e29014f6bd3800669e2', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE "users" SET "role" = 'admin' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:48:39) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /session/new
***************************************
Completed in 10ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:48:39) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:48:39) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.4ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.1ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 16ms (View: 13, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET / with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:48:39) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (0.9ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.5ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 14ms (View: 10, DB: 2) | 200 OK [http://www.example.com/]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('59ecb9bd6f12ed60327405bcd40dfda87ca2c551', 'eb018a0c8674ee2cf89316b7213988b023f1deb2', NULL, '5ba73bc81d7ccc9a91615e29014f6bd3800669e2', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mUser Update (0.3ms)[0m   [0mUPDATE "users" SET "role" = 'null' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:48:39) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /session/new
***************************************
Completed in 10ms (View: 9, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:48:39) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:48:39) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.0ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 14ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /tutors with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing TutorsController#index (for 127.0.0.1 at 2009-11-17 15:48:39) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Redirected to http://www.example.com/
Filter chain halted as [:must_be_admin] rendered_or_redirected.
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/tutors]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/tutors"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:48:39) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.0ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.4ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 14ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('59ecb9bd6f12ed60327405bcd40dfda87ca2c551', 'eb018a0c8674ee2cf89316b7213988b023f1deb2', NULL, '5ba73bc81d7ccc9a91615e29014f6bd3800669e2', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE "users" SET "role" = 'admin' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:48:39) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /session/new
***************************************
Completed in 10ms (View: 10, DB: 2) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:48:39) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:48:39) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.2ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.4ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 16ms (View: 12, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /tutors with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing TutorsController#index (for 127.0.0.1 at 2009-11-17 15:48:39) [GET]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mTutor Load (0.6ms)[0m   [0;1mSELECT * FROM "tutors" ORDER BY family_name LIMIT 30 OFFSET 0[0m
Rendering template within layouts/application
Rendering tutors/index
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 11ms (View: 6, DB: 1) | 200 OK [http://www.example.com/tutors]
REQUESTING PAGE: GET /tutors/1/edit with {} and HTTP headers {}


Processing TutorsController#edit (for 127.0.0.1 at 2009-11-17 15:48:39) [GET]
  Parameters: {"id"=>"1"}
Redirected to http://www.example.com/clearance/sessions/new
Completed in 0ms (DB: 0) | 302 Found [http://www.example.com/tutors/1/edit]
REQUESTING PAGE: GET http://www.example.com/clearance/sessions/new with {} and HTTP headers {"HTTP_REFERER"=>"/tutors/1/edit"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:48:39) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /session/new
***************************************
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://www.example.com/clearance/sessions/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('59ecb9bd6f12ed60327405bcd40dfda87ca2c551', 'eb018a0c8674ee2cf89316b7213988b023f1deb2', NULL, '5ba73bc81d7ccc9a91615e29014f6bd3800669e2', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:48:39) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /session/new
***************************************
Completed in 10ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:48:39) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.7ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 1) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:48:39) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.4ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.1ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.6ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 14ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.5ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('59ecb9bd6f12ed60327405bcd40dfda87ca2c551', 'eb018a0c8674ee2cf89316b7213988b023f1deb2', NULL, '5ba73bc81d7ccc9a91615e29014f6bd3800669e2', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:48:39) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /session/new
***************************************
Completed in 10ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:48:39) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.6ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 1) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:48:39) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.4ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.1ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.6ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 15ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /tutors/new with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing TutorsController#new (for 127.0.0.1 at 2009-11-17 15:48:39) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendering template within layouts/application
Rendering tutors/new
Rendered tutors/_tutor_form (13.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 23ms (View: 18, DB: 0) | 200 OK [http://www.example.com/tutors/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.6ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('59ecb9bd6f12ed60327405bcd40dfda87ca2c551', 'eb018a0c8674ee2cf89316b7213988b023f1deb2', NULL, '5ba73bc81d7ccc9a91615e29014f6bd3800669e2', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mTutor Create (0.2ms)[0m   [0mINSERT INTO "tutors" ("textbook_experience", "updated_at", "photo_file_name", "photo_file_size", "course_experience", "qualifications", "photo_updated_at", "national_knowledge", "sex", "flavour", "given_name", "family_name", "photo_content_type", "phone", "given_name_first", "age", "address", "experience", "created_at") VALUES(NULL, '2009-11-17 08:48:39', NULL, NULL, NULL, NULL, NULL, NULL, 'm', NULL, 'Iain', 'Wood', NULL, NULL, 't', NULL, NULL, 'email@person.com''s private details', '2009-11-17 08:48:39')[0m
[paperclip] Saving attachments.
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mUser Update (0.4ms)[0m   [0mUPDATE "users" SET "tutor_id" = 1 WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:48:39) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /session/new
***************************************
Completed in 10ms (View: 9, DB: 2) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:48:40) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:48:40) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.0ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.8ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 1
***************************************
***************************************
tutor_link = /tutors/1/edit
***************************************
Completed in 15ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /tutors/new with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing TutorsController#new (for 127.0.0.1 at 2009-11-17 15:48:40) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mTutor Load (0.4ms)[0m   [0mSELECT * FROM "tutors" WHERE ("tutors"."id" = 1) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "tutors" WHERE ("tutors"."id" = 1) [0m
Rendering template within layouts/application
Rendering tutors/new
Rendered tutors/_tutor_form (10.3ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 1
***************************************
***************************************
tutor_link = /tutors/1/edit
***************************************
Completed in 18ms (View: 15, DB: 1) | 200 OK [http://www.example.com/tutors/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
REQUESTING PAGE: GET /passwords/new with {} and HTTP headers {}


Processing Clearance::PasswordsController#new (for 127.0.0.1 at 2009-11-17 15:48:40) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/passwords"}
Rendering template within layouts/application
Rendering passwords/new
***************************************
tutor_link = /session/new
***************************************
Completed in 12ms (View: 9, DB: 0) | 200 OK [http://www.example.com/passwords/new]
REQUESTING PAGE: POST /passwords with {"commit"=>"Reset password", "password"=>{"email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/passwords/new"}


Processing Clearance::PasswordsController#create (for 127.0.0.1 at 2009-11-17 15:48:40) [POST]
  Parameters: {"commit"=>"Reset password", "action"=>"create", "controller"=>"clearance/passwords", "password"=>"[FILTERED]"}
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering passwords/new
***************************************
tutor_link = /session/new
***************************************
Completed in 8ms (View: 7, DB: 0) | 200 OK [http://www.example.com/passwords]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('7447ecb7ede957b25a88884d6cc24ff2d073daee', '7204194f70c317a22a7dbe45e9a7cf13706b1867', NULL, '8733d27671fb54850f300ec9836c6e234b769e82', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 'f')[0m
REQUESTING PAGE: GET /passwords/new with {} and HTTP headers {}


Processing Clearance::PasswordsController#new (for 127.0.0.1 at 2009-11-17 15:48:40) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/passwords"}
Rendering template within layouts/application
Rendering passwords/new
***************************************
tutor_link = /session/new
***************************************
Completed in 8ms (View: 8, DB: 1) | 200 OK [http://www.example.com/passwords/new]
REQUESTING PAGE: POST /passwords with {"commit"=>"Reset password", "password"=>{"email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/passwords/new"}


Processing Clearance::PasswordsController#create (for 127.0.0.1 at 2009-11-17 15:48:40) [POST]
  Parameters: {"commit"=>"Reset password", "action"=>"create", "controller"=>"clearance/passwords", "password"=>"[FILTERED]"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE "users" SET "token" = '7ed7daafeb1892c2f807e03fbf95f82aed24cc35' WHERE "id" = 2[0m
Sent mail to email@person.com

Date: Tue, 17 Nov 2009 15:48:40 +0700
From: donotreply@example.com
To: email@person.com
Subject: Change your password
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8

Someone, hopefully you, has requested that we send you a link to change your password.

Here's the link:

http://localhost/users/2/password/edit?token=7ed7daafeb1892c2f807e03fbf95f82aed24cc35

If you didn't request this, ignore this email. Don't worry. Your password hasn't been changed.
Redirected to http://www.example.com/session/new
Completed in 38ms (DB: 1) | 302 Found [http://www.example.com/passwords]
REQUESTING PAGE: GET http://www.example.com/session/new with {} and HTTP headers {"HTTP_REFERER"=>"/passwords"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:48:40) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /session/new
***************************************
Completed in 9ms (View: 9, DB: 0) | 200 OK [http://www.example.com/session/new]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('7447ecb7ede957b25a88884d6cc24ff2d073daee', '7204194f70c317a22a7dbe45e9a7cf13706b1867', NULL, '8733d27671fb54850f300ec9836c6e234b769e82', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 'f')[0m
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
REQUESTING PAGE: GET /users/2/password/edit?token=8733d27671fb54850f300ec9836c6e234b769e82 with {} and HTTP headers {}


Processing Clearance::PasswordsController#edit (for 127.0.0.1 at 2009-11-17 15:48:40) [GET]
  Parameters: {"token"=>"8733d27671fb54850f300ec9836c6e234b769e82", "action"=>"edit", "controller"=>"clearance/passwords", "user_id"=>"2"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."token" = '8733d27671fb54850f300ec9836c6e234b769e82' AND "users"."id" = '2') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '8733d27671fb54850f300ec9836c6e234b769e82' AND "users"."id" = '2') LIMIT 1[0m
Rendering template within layouts/application
Rendering passwords/edit
***************************************
tutor_link = /session/new
***************************************
Completed in 12ms (View: 11, DB: 2) | 200 OK [http://www.example.com/users/2/password/edit?token=8733d27671fb54850f300ec9836c6e234b769e82]
REQUESTING PAGE: POST /users/2/password?token=8733d27671fb54850f300ec9836c6e234b769e82 with {"user"=>{"password_confirmation"=>"wrongconfirmation", "password"=>"newpassword"}, "commit"=>"Save this password", "_method"=>"put"} and HTTP headers {"HTTP_REFERER"=>"/users/2/password/edit?token=8733d27671fb54850f300ec9836c6e234b769e82"}


Processing Clearance::PasswordsController#update (for 127.0.0.1 at 2009-11-17 15:48:40) [PUT]
  Parameters: {"user"=>{"password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Save this password", "token"=>"8733d27671fb54850f300ec9836c6e234b769e82", "action"=>"update", "_method"=>"put", "controller"=>"clearance/passwords", "user_id"=>"2"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."token" = '8733d27671fb54850f300ec9836c6e234b769e82' AND "users"."id" = '2') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '8733d27671fb54850f300ec9836c6e234b769e82' AND "users"."id" = '2') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
Rendering template within layouts/application
Rendering passwords/edit
***************************************
tutor_link = /session/new
***************************************
Completed in 19ms (View: 14, DB: 1) | 200 OK [http://www.example.com/users/2/password?token=8733d27671fb54850f300ec9836c6e234b769e82]
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('7447ecb7ede957b25a88884d6cc24ff2d073daee', '7204194f70c317a22a7dbe45e9a7cf13706b1867', NULL, '8733d27671fb54850f300ec9836c6e234b769e82', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 'f')[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
REQUESTING PAGE: GET /users/2/password/edit?token=8733d27671fb54850f300ec9836c6e234b769e82 with {} and HTTP headers {}


Processing Clearance::PasswordsController#edit (for 127.0.0.1 at 2009-11-17 15:48:40) [GET]
  Parameters: {"token"=>"8733d27671fb54850f300ec9836c6e234b769e82", "action"=>"edit", "controller"=>"clearance/passwords", "user_id"=>"2"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '8733d27671fb54850f300ec9836c6e234b769e82' AND "users"."id" = '2') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."token" = '8733d27671fb54850f300ec9836c6e234b769e82' AND "users"."id" = '2') LIMIT 1[0m
Rendering template within layouts/application
Rendering passwords/edit
***************************************
tutor_link = /session/new
***************************************
Completed in 12ms (View: 10, DB: 2) | 200 OK [http://www.example.com/users/2/password/edit?token=8733d27671fb54850f300ec9836c6e234b769e82]
REQUESTING PAGE: POST /users/2/password?token=8733d27671fb54850f300ec9836c6e234b769e82 with {"user"=>{"password_confirmation"=>"newpassword", "password"=>"newpassword"}, "commit"=>"Save this password", "_method"=>"put"} and HTTP headers {"HTTP_REFERER"=>"/users/2/password/edit?token=8733d27671fb54850f300ec9836c6e234b769e82"}


Processing Clearance::PasswordsController#update (for 127.0.0.1 at 2009-11-17 15:48:40) [PUT]
  Parameters: {"user"=>{"password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]"}, "commit"=>"Save this password", "token"=>"8733d27671fb54850f300ec9836c6e234b769e82", "action"=>"update", "_method"=>"put", "controller"=>"clearance/passwords", "user_id"=>"2"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '8733d27671fb54850f300ec9836c6e234b769e82' AND "users"."id" = '2') LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."token" = '8733d27671fb54850f300ec9836c6e234b769e82' AND "users"."id" = '2') LIMIT 1[0m
  [4;36;1mUser Load (0.1ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE "users" SET "token" = NULL, "encrypted_password" = 'a9a5325cfe3df7b3d13fc8d27425e67784a754bd' WHERE "id" = 2[0m
  [4;35;1mUser Update (0.1ms)[0m   [0mUPDATE "users" SET "email_confirmed" = 't' WHERE "id" = 2[0m
Redirected to http://www.example.com/
Completed in 8ms (DB: 1) | 302 Found [http://www.example.com/users/2/password?token=8733d27671fb54850f300ec9836c6e234b769e82]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/users/2/password?token=8733d27671fb54850f300ec9836c6e234b769e82"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:48:40) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.0ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.1ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 15ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
REQUESTING PAGE: DELETE /session with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing Clearance::SessionsController#destroy (for 127.0.0.1 at 2009-11-17 15:48:40) [DELETE]
  Parameters: {"action"=>"destroy", "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
Redirected to http://www.example.com/session/new
Completed in 3ms (DB: 1) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:48:40) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /session/new
***************************************
Completed in 9ms (View: 9, DB: 0) | 200 OK [http://www.example.com/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."token" = '') LIMIT 1[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/session/new"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:48:40) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /session/new
***************************************
Completed in 11ms (View: 10, DB: 0) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"newpassword", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:48:40) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:48:40) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.0ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.5ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 103ms (View: 100, DB: 2) | 200 OK [http://www.example.com/]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:48:40) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /session/new
***************************************
Completed in 10ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: GET /session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:48:40) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /session/new
***************************************
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:48:40) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering sessions/new (unauthorized)
***************************************
tutor_link = /session/new
***************************************
Completed in 10ms (View: 9, DB: 0) | 401 Unauthorized [http://www.example.com/session]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.5ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('7447ecb7ede957b25a88884d6cc24ff2d073daee', '7204194f70c317a22a7dbe45e9a7cf13706b1867', NULL, '8733d27671fb54850f300ec9836c6e234b769e82', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 'f')[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:48:40) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /session/new
***************************************
Completed in 9ms (View: 9, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: GET /session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:48:40) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /session/new
***************************************
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:48:40) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Sent mail to email@person.com

Date: Tue, 17 Nov 2009 15:48:40 +0700
From: donotreply@example.com
To: email@person.com
Subject: Account confirmation
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


http://localhost/users/2/confirmation/new?token=8733d27671fb54850f300ec9836c6e234b769e82
Redirected to http://www.example.com/session/new
Completed in 6ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:48:40) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /session/new
***************************************
Completed in 9ms (View: 9, DB: 0) | 200 OK [http://www.example.com/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('7447ecb7ede957b25a88884d6cc24ff2d073daee', '7204194f70c317a22a7dbe45e9a7cf13706b1867', NULL, '8733d27671fb54850f300ec9836c6e234b769e82', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:48:40) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /session/new
***************************************
Completed in 9ms (View: 9, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: GET /session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:48:40) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /session/new
***************************************
Completed in 9ms (View: 9, DB: 0) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"wrongpassword", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:48:40) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Rendering template within layouts/application
Rendering sessions/new (unauthorized)
***************************************
tutor_link = /session/new
***************************************
Completed in 11ms (View: 10, DB: 0) | 401 Unauthorized [http://www.example.com/session]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('7447ecb7ede957b25a88884d6cc24ff2d073daee', '7204194f70c317a22a7dbe45e9a7cf13706b1867', NULL, '8733d27671fb54850f300ec9836c6e234b769e82', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:48:40) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /session/new
***************************************
Completed in 10ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: GET /session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:48:40) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /session/new
***************************************
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:48:40) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:48:40) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.4ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.1ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.0ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 15ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('7447ecb7ede957b25a88884d6cc24ff2d073daee', '7204194f70c317a22a7dbe45e9a7cf13706b1867', NULL, '8733d27671fb54850f300ec9836c6e234b769e82', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:48:40) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /session/new
***************************************
Completed in 9ms (View: 9, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: GET /session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:48:40) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /session/new
***************************************
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"1", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:48:41) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"1"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE "users" SET "token" = '7de059225922986b81d44173e7c9ae6a7a0e1c3e', "token_expires_at" = '2009-12-01 08:48:41' WHERE "id" = 2[0m
Redirected to http://www.example.com/
Completed in 24ms (DB: 1) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:48:41) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.4ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.0ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 15ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '7de059225922986b81d44173e7c9ae6a7a0e1c3e') LIMIT 1[0m
REQUESTING PAGE: GET / with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:48:41) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.0ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.7ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 14ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '7de059225922986b81d44173e7c9ae6a7a0e1c3e') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('1b973b6a8c37b534c92c97820ec136d50dc7b57f', '057212df6578bf843729bcee440e208f27a1fe8e', NULL, 'dbb8144d9cc3ed8a3d1f55a870df366ccc242b7e', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:48:41) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /session/new
***************************************
Completed in 10ms (View: 10, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:48:41) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:48:41) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.4ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.1ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.9ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 16ms (View: 13, DB: 2) | 200 OK [http://www.example.com/]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
REQUESTING PAGE: DELETE /session with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing Clearance::SessionsController#destroy (for 127.0.0.1 at 2009-11-17 15:48:41) [DELETE]
  Parameters: {"action"=>"destroy", "controller"=>"clearance/sessions"}
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
  [4;35;1mUser Update (0.6ms)[0m   [0mUPDATE "users" SET "token" = NULL WHERE "id" = 2[0m
Redirected to http://www.example.com/session/new
Completed in 4ms (DB: 1) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:48:41) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /session/new
***************************************
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://www.example.com/session/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('1b973b6a8c37b534c92c97820ec136d50dc7b57f', '057212df6578bf843729bcee440e208f27a1fe8e', NULL, 'dbb8144d9cc3ed8a3d1f55a870df366ccc242b7e', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:48:41) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /session/new
***************************************
Completed in 9ms (View: 9, DB: 1) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"1", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:48:41) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"1"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE "users" SET "token" = 'e609ac6071953c35cbf541b14fe9807cff07cadf', "token_expires_at" = '2009-12-01 08:48:41' WHERE "id" = 2[0m
Redirected to http://www.example.com/
Completed in 4ms (DB: 1) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:48:41) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.4ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.1ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.9ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 15ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = 'e609ac6071953c35cbf541b14fe9807cff07cadf') LIMIT 1[0m
REQUESTING PAGE: DELETE /session with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing Clearance::SessionsController#destroy (for 127.0.0.1 at 2009-11-17 15:48:41) [DELETE]
  Parameters: {"action"=>"destroy", "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."token" = 'e609ac6071953c35cbf541b14fe9807cff07cadf') LIMIT 1[0m
  [4;36;1mUser Update (0.2ms)[0m   [0;1mUPDATE "users" SET "token" = NULL, "token_expires_at" = NULL WHERE "id" = 2[0m
Redirected to http://www.example.com/session/new
Completed in 3ms (DB: 1) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/session/new with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:48:41) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /session/new
***************************************
Completed in 10ms (View: 9, DB: 0) | 200 OK [http://www.example.com/session/new]
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."token" = '') LIMIT 1[0m
REQUESTING PAGE: GET / with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/session/new"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:48:41) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.1ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
Rendered pages/_content_for_newsbar (5.7ms)
***************************************
tutor_link = /session/new
***************************************
Completed in 14ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = '') LIMIT 1[0m
REQUESTING PAGE: GET /users/new with {} and HTTP headers {}


Processing Clearance::UsersController#new (for 127.0.0.1 at 2009-11-17 15:48:41) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/users"}
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (7.1ms)
***************************************
tutor_link = /session/new
***************************************
Completed in 14ms (View: 11, DB: 0) | 200 OK [http://www.example.com/users/new]
REQUESTING PAGE: POST /users with {"user"=>{"language"=>"en", "password_confirmation"=>"", "password"=>"password", "email"=>"invalidemail"}, "commit"=>"Submit"} and HTTP headers {"HTTP_REFERER"=>"/users/new"}


Processing Clearance::UsersController#create (for 127.0.0.1 at 2009-11-17 15:48:41) [POST]
  Parameters: {"user"=>{"language"=>"en", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "email"=>"invalidemail"}, "commit"=>"Submit", "action"=>"create", "controller"=>"clearance/users"}
WARNING: Can't mass-assign these protected attributes: language
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'invalidemail') LIMIT 1[0m
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (11.5ms)
***************************************
tutor_link = /session/new
***************************************
Completed in 17ms (View: 15, DB: 0) | 200 OK [http://www.example.com/users]
REQUESTING PAGE: GET /users/new with {} and HTTP headers {}


Processing Clearance::UsersController#new (for 127.0.0.1 at 2009-11-17 15:48:41) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/users"}
Rendering template within layouts/application
Rendering users/new
Rendered users/_form (6.2ms)
***************************************
tutor_link = /session/new
***************************************
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://www.example.com/users/new]
REQUESTING PAGE: POST /users with {"user"=>{"language"=>"en", "password_confirmation"=>"password", "password"=>"password", "email"=>"email@person.com"}, "commit"=>"Submit"} and HTTP headers {"HTTP_REFERER"=>"/users/new"}


Processing Clearance::UsersController#create (for 127.0.0.1 at 2009-11-17 15:48:41) [POST]
  Parameters: {"user"=>{"language"=>"en", "password_confirmation"=>"[FILTERED]", "password"=>"[FILTERED]", "email"=>"email@person.com"}, "commit"=>"Submit", "action"=>"create", "controller"=>"clearance/users"}
WARNING: Can't mass-assign these protected attributes: language
  [4;36;1mUser Load (0.3ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('1b973b6a8c37b534c92c97820ec136d50dc7b57f', '057212df6578bf843729bcee440e208f27a1fe8e', NULL, 'dbb8144d9cc3ed8a3d1f55a870df366ccc242b7e', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 'f')[0m
Sent mail to email@person.com

Date: Tue, 17 Nov 2009 15:48:41 +0700
From: donotreply@example.com
To: email@person.com
Subject: Account confirmation
Mime-Version: 1.0
Content-Type: text/plain; charset=utf-8


http://localhost/users/2/confirmation/new?token=dbb8144d9cc3ed8a3d1f55a870df366ccc242b7e
Redirected to http://www.example.com/session/new
Completed in 8ms (DB: 1) | 302 Found [http://www.example.com/users]
REQUESTING PAGE: GET http://www.example.com/session/new with {} and HTTP headers {"HTTP_REFERER"=>"/users"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:48:41) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /session/new
***************************************
Completed in 10ms (View: 10, DB: 0) | 200 OK [http://www.example.com/session/new]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;36;1mUser Create (0.4ms)[0m   [0;1mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('1b973b6a8c37b534c92c97820ec136d50dc7b57f', '057212df6578bf843729bcee440e208f27a1fe8e', NULL, 'dbb8144d9cc3ed8a3d1f55a870df366ccc242b7e', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 'f')[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
REQUESTING PAGE: GET /users/2/confirmation/new?token=dbb8144d9cc3ed8a3d1f55a870df366ccc242b7e with {} and HTTP headers {}


Processing Clearance::ConfirmationsController#new (for 127.0.0.1 at 2009-11-17 15:48:41) [GET]
  Parameters: {"token"=>"[FILTERED]", "action"=>"new", "controller"=>"clearance/confirmations", "user_id"=>"2"}
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = '2') LIMIT 1[0m
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."token" = 'dbb8144d9cc3ed8a3d1f55a870df366ccc242b7e' AND "users"."id" = '2') LIMIT 1[0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."token" = 'dbb8144d9cc3ed8a3d1f55a870df366ccc242b7e' AND "users"."id" = '2') LIMIT 1[0m
  [4;35;1mUser Update (0.6ms)[0m   [0mUPDATE "users" SET "email_confirmed" = 't', "token" = NULL WHERE "id" = 2[0m
Redirected to http://www.example.com/
Completed in 8ms (DB: 3) | 302 Found [http://www.example.com/users/2/confirmation/new?token=dbb8144d9cc3ed8a3d1f55a870df366ccc242b7e]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/users/2/confirmation/new?token=dbb8144d9cc3ed8a3d1f55a870df366ccc242b7e"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:48:41) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.4ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.1ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.8ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors/new
***************************************
Completed in 14ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) LIMIT 1[0m
REQUESTING PAGE: GET / with {} and HTTP headers {}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:48:41) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.4ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.0ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
Rendered pages/_content_for_newsbar (4.9ms)
***************************************
tutor_link = /session/new
***************************************
Completed in 12ms (View: 9, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /session/new with {} and HTTP headers {"HTTP_REFERER"=>"/"}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:48:41) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /session/new
***************************************
Completed in 11ms (View: 11, DB: 0) | 200 OK [http://www.example.com/session/new]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('1b973b6a8c37b534c92c97820ec136d50dc7b57f', '057212df6578bf843729bcee440e208f27a1fe8e', NULL, 'dbb8144d9cc3ed8a3d1f55a870df366ccc242b7e', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.4ms)[0m   [0;1mUPDATE "users" SET "role" = 'null' WHERE "id" = 2[0m
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;36;1mTutor Create (0.3ms)[0m   [0;1mINSERT INTO "tutors" ("textbook_experience", "updated_at", "photo_file_name", "photo_file_size", "course_experience", "qualifications", "photo_updated_at", "national_knowledge", "sex", "flavour", "given_name", "family_name", "photo_content_type", "phone", "given_name_first", "age", "address", "experience", "created_at") VALUES(NULL, '2009-11-17 08:48:41', NULL, NULL, NULL, NULL, NULL, NULL, 'm', NULL, 'Iain', 'Wood', NULL, NULL, 't', NULL, NULL, 'email@person.com''s private details', '2009-11-17 08:48:41')[0m
[paperclip] Saving attachments.
  [4;35;1mUser Load (0.1ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.1ms)[0m   [0;1mUPDATE "users" SET "tutor_id" = 1 WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:48:41) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /session/new
***************************************
Completed in 9ms (View: 9, DB: 2) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:48:41) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.5ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:48:41) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.0ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.6ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 1
***************************************
***************************************
tutor_link = /tutors/1/edit
***************************************
Completed in 14ms (View: 11, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET / with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:48:41) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.3ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.0ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.3ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (5.3ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 1
***************************************
***************************************
tutor_link = /tutors/1/edit
***************************************
Completed in 109ms (View: 106, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /tutors/1/edit with {} and HTTP headers {"HTTP_REFERER"=>"/"}


Processing TutorsController#edit (for 127.0.0.1 at 2009-11-17 15:48:42) [GET]
  Parameters: {"id"=>"1"}
  [4;36;1mTutor Load (0.6ms)[0m   [0;1mSELECT * FROM "tutors" WHERE ("tutors"."id" = 1) [0m
Rendering template within layouts/application
Rendering tutors/edit
Rendered tutors/_tutor_form (10.2ms)
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 1
***************************************
***************************************
tutor_link = /tutors/1/edit
***************************************
Completed in 17ms (View: 15, DB: 1) | 200 OK [http://www.example.com/tutors/1/edit]
  [4;36;1mUser Load (0.2ms)[0m   [0;1mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Create (0.4ms)[0m   [0mINSERT INTO "users" ("encrypted_password", "salt", "language", "token", "token_expires_at", "tutor_id", "role", "phone", "address", "email", "email_confirmed") VALUES('1e6e2e5916f92ca110642bd2adc19a2ac7073a79', 'e844407305fef9ea8525d11e4e22a5ef6110c5ab', NULL, 'e7475e23b0eaed34e23693df89c69896b4f76b58', NULL, NULL, NULL, NULL, NULL, 'email@person.com', 't')[0m
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
  [4;35;1mUser Load (0.2ms)[0m   [0mSELECT "users".id FROM "users" WHERE (LOWER("users"."email") = 'email@person.com' AND "users".id <> 2) LIMIT 1[0m
  [4;36;1mUser Update (0.5ms)[0m   [0;1mUPDATE "users" SET "role" = 'admin' WHERE "id" = 2[0m
REQUESTING PAGE: GET /session/new with {} and HTTP headers {}


Processing Clearance::SessionsController#new (for 127.0.0.1 at 2009-11-17 15:48:42) [GET]
  Parameters: {"action"=>"new", "controller"=>"clearance/sessions"}
Rendering template within layouts/application
Rendering sessions/new
***************************************
tutor_link = /session/new
***************************************
Completed in 10ms (View: 10, DB: 2) | 200 OK [http://www.example.com/session/new]
REQUESTING PAGE: POST /session with {"commit"=>"Sign in", "session"=>{"password"=>"password", "remember_me"=>"0", "email"=>"email@person.com"}} and HTTP headers {"HTTP_REFERER"=>"/session/new"}


Processing Clearance::SessionsController#create (for 127.0.0.1 at 2009-11-17 15:48:42) [POST]
  Parameters: {"commit"=>"Sign in", "action"=>"create", "session"=>{"password"=>"[FILTERED]", "email"=>"email@person.com", "remember_me"=>"0"}, "controller"=>"clearance/sessions"}
  [4;35;1mUser Load (0.4ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."email" = 'email@person.com') LIMIT 1[0m
Redirected to http://www.example.com/
Completed in 2ms (DB: 0) | 302 Found [http://www.example.com/session]
REQUESTING PAGE: GET http://www.example.com/ with {} and HTTP headers {"HTTP_REFERER"=>"/session"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:48:42) [GET]
  Parameters: {"permalink"=>"home"}
  [4;36;1mPage Load (0.3ms)[0m   [0;1mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;35;1mNewsitem Load (1.4ms)[0m   [0mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;36;1mUser Load (0.5ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.5ms)
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 16ms (View: 12, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET / with {} and HTTP headers {"HTTP_REFERER"=>"http://www.example.com/"}


Processing PagesController#show (for 127.0.0.1 at 2009-11-17 15:48:42) [GET]
  Parameters: {"permalink"=>"home"}
  [4;35;1mPage Load (0.4ms)[0m   [0mSELECT * FROM "pages" WHERE ("pages"."permalink" = 'home') LIMIT 1[0m
  [4;36;1mNewsitem Load (1.1ms)[0m   [0;1mSELECT * FROM "newsitems" ORDER BY created_at DESC LIMIT 3[0m
Rendering template within layouts/application
Rendering pages/show
  [4;35;1mUser Load (0.6ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
Rendered pages/_content_for_newsbar (6.4ms)
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mCACHE (0.0ms)[0m   [0mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 15ms (View: 12, DB: 2) | 200 OK [http://www.example.com/]
REQUESTING PAGE: GET /tutors with {} and HTTP headers {"HTTP_REFERER"=>"/"}


Processing TutorsController#index (for 127.0.0.1 at 2009-11-17 15:48:42) [GET]
  [4;36;1mUser Load (0.4ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
  [4;35;1mTutor Load (0.5ms)[0m   [0mSELECT * FROM "tutors" ORDER BY family_name LIMIT 30 OFFSET 0[0m
Rendering template within layouts/application
Rendering tutors/index
  [4;36;1mCACHE (0.0ms)[0m   [0;1mSELECT * FROM "users" WHERE ("users"."id" = 2) [0m
***************************************
user.tutor_id = 
***************************************
***************************************
tutor_link = /tutors
***************************************
Completed in 6ms (View: 4, DB: 1) | 200 OK [http://www.example.com/tutors]
